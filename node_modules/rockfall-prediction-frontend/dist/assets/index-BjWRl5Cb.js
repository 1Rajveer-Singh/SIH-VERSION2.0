const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-Cbsc1A9l.js","assets/utils-vendor-o7zuJqhA.js","assets/react-vendor-CAzxElsO.js","assets/chart-vendor-lVNJDs-H.js"])))=>i.map(i=>d[i]);
var Gt=t=>{throw TypeError(t)};var bt=(t,s,r)=>s.has(t)||Gt("Cannot "+r);var f=(t,s,r)=>(bt(t,s,"read from private field"),r?r.call(t):s.get(t)),R=(t,s,r)=>s.has(t)?Gt("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),A=(t,s,r,a)=>(bt(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),H=(t,s,r)=>(bt(t,s,"access private method"),r);var at=(t,s,r,a)=>({set _(n){A(t,s,n,r)},get _(){return f(t,s,a)}});import{r as d,a as cr,b as dr,R as mr}from"./react-vendor-CAzxElsO.js";import{a as ur}from"./utils-vendor-o7zuJqhA.js";import{C as Ss,a as Cs,L as _s,P as Ps,b as Ds,B as As,p as Es,c as Rs,d as Ts,A as Is,e as ot,D as Ms,f as Lt,i as hr}from"./chart-vendor-lVNJDs-H.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();var Ls={exports:{}},ut={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=d,pr=Symbol.for("react.element"),gr=Symbol.for("react.fragment"),fr=Object.prototype.hasOwnProperty,br=xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yr={key:!0,ref:!0,__self:!0,__source:!0};function Fs(t,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)fr.call(s,a)&&!yr.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:pr,type:t,key:l,ref:i,props:n,_owner:br.current}}ut.Fragment=gr;ut.jsx=Fs;ut.jsxs=Fs;Ls.exports=ut;var e=Ls.exports,kt={},Qt=cr;kt.createRoot=Qt.createRoot,kt.hydrateRoot=Qt.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ke.apply(this,arguments)}var we;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(we||(we={}));const Vt="popstate";function vr(t){t===void 0&&(t={});function s(a,n){let{pathname:l,search:i,hash:c}=a.location;return St("",{pathname:l,search:i,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ct(n)}return Nr(s,r,null,t)}function U(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Os(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function jr(){return Math.random().toString(36).substr(2,8)}function Kt(t,s){return{usr:t.state,key:t.key,idx:s}}function St(t,s,r,a){return r===void 0&&(r=null),Ke({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Be(s):s,{state:r,key:s&&s.key||a||jr()})}function ct(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Be(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Nr(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,c=we.Pop,o=null,m=x();m==null&&(m=0,i.replaceState(Ke({},i.state,{idx:m}),""));function x(){return(i.state||{idx:null}).idx}function p(){c=we.Pop;let y=x(),_=y==null?null:y-m;m=y,o&&o({action:c,location:w.location,delta:_})}function b(y,_){c=we.Push;let D=St(w.location,y,_);m=x()+1;let g=Kt(D,m),u=w.createHref(D);try{i.pushState(g,"",u)}catch(h){if(h instanceof DOMException&&h.name==="DataCloneError")throw h;n.location.assign(u)}l&&o&&o({action:c,location:w.location,delta:1})}function N(y,_){c=we.Replace;let D=St(w.location,y,_);m=x();let g=Kt(D,m),u=w.createHref(D);i.replaceState(g,"",u),l&&o&&o({action:c,location:w.location,delta:0})}function v(y){let _=n.location.origin!=="null"?n.location.origin:n.location.href,D=typeof y=="string"?y:ct(y);return D=D.replace(/ $/,"%20"),U(_,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,_)}let w={get action(){return c},get location(){return t(n,i)},listen(y){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Vt,p),o=y,()=>{n.removeEventListener(Vt,p),o=null}},createHref(y){return s(n,y)},createURL:v,encodeLocation(y){let _=v(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:N,go(y){return i.go(y)}};return w}var Zt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zt||(Zt={}));function wr(t,s,r){return r===void 0&&(r="/"),kr(t,s,r)}function kr(t,s,r,a){let n=typeof s=="string"?Be(s):s,l=Ft(n.pathname||"/",r);if(l==null)return null;let i=$s(t);Sr(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let m=Fr(l);c=Ir(i[o],m)}return c}function $s(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,c)=>{let o={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};o.relativePath.startsWith("/")&&(U(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let m=ke([a,o.relativePath]),x=r.concat(o);l.children&&l.children.length>0&&(U(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),$s(l.children,s,x,m)),!(l.path==null&&!l.index)&&s.push({path:m,score:Rr(m,l.index),routesMeta:x})};return t.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))n(l,i);else for(let o of Us(l.path))n(l,i,o)}),s}function Us(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=Us(a.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),n&&c.push(...i),c.map(o=>t.startsWith("/")&&o===""?"/":o)}function Sr(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Tr(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Cr=/^:[\w-]+$/,_r=3,Pr=2,Dr=1,Ar=10,Er=-2,Jt=t=>t==="*";function Rr(t,s){let r=t.split("/"),a=r.length;return r.some(Jt)&&(a+=Er),s&&(a+=Pr),r.filter(n=>!Jt(n)).reduce((n,l)=>n+(Cr.test(l)?_r:l===""?Dr:Ar),a)}function Tr(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function Ir(t,s,r){let{routesMeta:a}=t,n={},l="/",i=[];for(let c=0;c<a.length;++c){let o=a[c],m=c===a.length-1,x=l==="/"?s:s.slice(l.length)||"/",p=Mr({path:o.relativePath,caseSensitive:o.caseSensitive,end:m},x),b=o.route;if(!p)return null;Object.assign(n,p.params),i.push({params:n,pathname:ke([l,p.pathname]),pathnameBase:zr(ke([l,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(l=ke([l,p.pathnameBase]))}return i}function Mr(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Lr(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:a.reduce((m,x,p)=>{let{paramName:b,isOptional:N}=x;if(b==="*"){let w=c[p]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[p];return N&&!v?m[b]=void 0:m[b]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:i,pattern:t}}function Lr(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Os(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(a.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function Fr(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Os(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Ft(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function Or(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Be(t):t;return{pathname:r?r.startsWith("/")?r:$r(r,s):s,search:qr(a),hash:Br(n)}}function $r(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function yt(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ur(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Ot(t,s){let r=Ur(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function $t(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Be(t):(n=Ke({},t),U(!n.pathname||!n.pathname.includes("?"),yt("?","pathname","search",n)),U(!n.pathname||!n.pathname.includes("#"),yt("#","pathname","hash",n)),U(!n.search||!n.search.includes("#"),yt("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,c;if(i==null)c=r;else{let p=s.length-1;if(!a&&i.startsWith("..")){let b=i.split("/");for(;b[0]==="..";)b.shift(),p-=1;n.pathname=b.join("/")}c=p>=0?s[p]:"/"}let o=Or(n,c),m=i&&i!=="/"&&i.endsWith("/"),x=(l||i===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(m||x)&&(o.pathname+="/"),o}const ke=t=>t.join("/").replace(/\/\/+/g,"/"),zr=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qr=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Br=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wr(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zs=["post","put","patch","delete"];new Set(zs);const Hr=["get",...zs];new Set(Hr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ze.apply(this,arguments)}const Ut=d.createContext(null),Gr=d.createContext(null),Se=d.createContext(null),ht=d.createContext(null),Ce=d.createContext({outlet:null,matches:[],isDataRoute:!1}),qs=d.createContext(null);function Qr(t,s){let{relative:r}=s===void 0?{}:s;We()||U(!1);let{basename:a,navigator:n}=d.useContext(Se),{hash:l,pathname:i,search:c}=Ws(t,{relative:r}),o=i;return a!=="/"&&(o=i==="/"?a:ke([a,i])),n.createHref({pathname:o,search:c,hash:l})}function We(){return d.useContext(ht)!=null}function He(){return We()||U(!1),d.useContext(ht).location}function Bs(t){d.useContext(Se).static||d.useLayoutEffect(t)}function zt(){let{isDataRoute:t}=d.useContext(Ce);return t?ia():Vr()}function Vr(){We()||U(!1);let t=d.useContext(Ut),{basename:s,future:r,navigator:a}=d.useContext(Se),{matches:n}=d.useContext(Ce),{pathname:l}=He(),i=JSON.stringify(Ot(n,r.v7_relativeSplatPath)),c=d.useRef(!1);return Bs(()=>{c.current=!0}),d.useCallback(function(m,x){if(x===void 0&&(x={}),!c.current)return;if(typeof m=="number"){a.go(m);return}let p=$t(m,JSON.parse(i),l,x.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:ke([s,p.pathname])),(x.replace?a.replace:a.push)(p,x.state,x)},[s,a,i,l,t])}function Ws(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=d.useContext(Se),{matches:n}=d.useContext(Ce),{pathname:l}=He(),i=JSON.stringify(Ot(n,a.v7_relativeSplatPath));return d.useMemo(()=>$t(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function Kr(t,s){return Zr(t,s)}function Zr(t,s,r,a){We()||U(!1);let{navigator:n}=d.useContext(Se),{matches:l}=d.useContext(Ce),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let m=He(),x;if(s){var p;let y=typeof s=="string"?Be(s):s;o==="/"||(p=y.pathname)!=null&&p.startsWith(o)||U(!1),x=y}else x=m;let b=x.pathname||"/",N=b;if(o!=="/"){let y=o.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=wr(t,{pathname:N}),w=ta(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:ke([o,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?o:ke([o,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),l,r,a);return s&&w?d.createElement(ht.Provider,{value:{location:Ze({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:we.Pop}},w):w}function Jr(){let t=na(),s=Wr(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),r?d.createElement("pre",{style:n},r):null,null)}const Yr=d.createElement(Jr,null);class Xr extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?d.createElement(Ce.Provider,{value:this.props.routeContext},d.createElement(qs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ea(t){let{routeContext:s,match:r,children:a}=t,n=d.useContext(Ut);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(Ce.Provider,{value:s},a)}function ta(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,c=(n=r)==null?void 0:n.errors;if(c!=null){let x=i.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);x>=0||U(!1),i=i.slice(0,Math.min(i.length,x+1))}let o=!1,m=-1;if(r&&a&&a.v7_partialHydration)for(let x=0;x<i.length;x++){let p=i[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=x),p.route.id){let{loaderData:b,errors:N}=r,v=p.route.loader&&b[p.route.id]===void 0&&(!N||N[p.route.id]===void 0);if(p.route.lazy||v){o=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((x,p,b)=>{let N,v=!1,w=null,y=null;r&&(N=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||Yr,o&&(m<0&&b===0?(la("route-fallback"),v=!0,y=null):m===b&&(v=!0,y=p.route.hydrateFallbackElement||null)));let _=s.concat(i.slice(0,b+1)),D=()=>{let g;return N?g=w:v?g=y:p.route.Component?g=d.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=x,d.createElement(ea,{match:p,routeContext:{outlet:x,matches:_,isDataRoute:r!=null},children:g})};return r&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?d.createElement(Xr,{location:r.location,revalidation:r.revalidation,component:w,error:N,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):D()},null)}var Hs=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Hs||{}),Gs=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gs||{});function sa(t){let s=d.useContext(Ut);return s||U(!1),s}function ra(t){let s=d.useContext(Gr);return s||U(!1),s}function aa(t){let s=d.useContext(Ce);return s||U(!1),s}function Qs(t){let s=aa(),r=s.matches[s.matches.length-1];return r.route.id||U(!1),r.route.id}function na(){var t;let s=d.useContext(qs),r=ra(),a=Qs();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function ia(){let{router:t}=sa(Hs.UseNavigateStable),s=Qs(Gs.UseNavigateStable),r=d.useRef(!1);return Bs(()=>{r.current=!0}),d.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Ze({fromRouteId:s},l)))},[t,s])}const Yt={};function la(t,s,r){Yt[t]||(Yt[t]=!0)}function oa(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Z(t){let{to:s,replace:r,state:a,relative:n}=t;We()||U(!1);let{future:l,static:i}=d.useContext(Se),{matches:c}=d.useContext(Ce),{pathname:o}=He(),m=zt(),x=$t(s,Ot(c,l.v7_relativeSplatPath),o,n==="path"),p=JSON.stringify(x);return d.useEffect(()=>m(JSON.parse(p),{replace:r,state:a,relative:n}),[m,p,n,r,a]),null}function K(t){U(!1)}function ca(t){let{basename:s="/",children:r=null,location:a,navigationType:n=we.Pop,navigator:l,static:i=!1,future:c}=t;We()&&U(!1);let o=s.replace(/^\/*/,"/"),m=d.useMemo(()=>({basename:o,navigator:l,static:i,future:Ze({v7_relativeSplatPath:!1},c)}),[o,c,l,i]);typeof a=="string"&&(a=Be(a));let{pathname:x="/",search:p="",hash:b="",state:N=null,key:v="default"}=a,w=d.useMemo(()=>{let y=Ft(x,o);return y==null?null:{location:{pathname:y,search:p,hash:b,state:N,key:v},navigationType:n}},[o,x,p,b,N,v,n]);return w==null?null:d.createElement(Se.Provider,{value:m},d.createElement(ht.Provider,{children:r,value:w}))}function da(t){let{children:s,location:r}=t;return Kr(Ct(s),r)}new Promise(()=>{});function Ct(t,s){s===void 0&&(s=[]);let r=[];return d.Children.forEach(t,(a,n)=>{if(!d.isValidElement(a))return;let l=[...s,n];if(a.type===d.Fragment){r.push.apply(r,Ct(a.props.children,l));return}a.type!==K&&U(!1),!a.props.index||!a.props.children||U(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Ct(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_t.apply(this,arguments)}function ma(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,l;for(l=0;l<a.length;l++)n=a[l],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function ua(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ha(t,s){return t.button===0&&(!s||s==="_self")&&!ua(t)}const xa=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pa="6";try{window.__reactRouterVersion=pa}catch{}const ga="startTransition",Xt=dr[ga];function fa(t){let{basename:s,children:r,future:a,window:n}=t,l=d.useRef();l.current==null&&(l.current=vr({window:n,v5Compat:!0}));let i=l.current,[c,o]=d.useState({action:i.action,location:i.location}),{v7_startTransition:m}=a||{},x=d.useCallback(p=>{m&&Xt?Xt(()=>o(p)):o(p)},[o,m]);return d.useLayoutEffect(()=>i.listen(x),[i,x]),d.useEffect(()=>oa(a),[a]),d.createElement(ca,{basename:s,children:r,location:c.location,navigationType:c.action,navigator:i,future:a})}const ba=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ya=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=d.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:c,target:o,to:m,preventScrollReset:x,viewTransition:p}=s,b=ma(s,xa),{basename:N}=d.useContext(Se),v,w=!1;if(typeof m=="string"&&ya.test(m)&&(v=m,ba))try{let g=new URL(window.location.href),u=m.startsWith("//")?new URL(g.protocol+m):new URL(m),h=Ft(u.pathname,N);u.origin===g.origin&&h!=null?m=h+u.search+u.hash:w=!0}catch{}let y=Qr(m,{relative:n}),_=va(m,{replace:i,state:c,target:o,preventScrollReset:x,relative:n,viewTransition:p});function D(g){a&&a(g),g.defaultPrevented||_(g)}return d.createElement("a",_t({},b,{href:v||y,onClick:w||l?a:D,ref:r,target:o}))});var es;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(es||(es={}));var ts;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ts||(ts={}));function va(t,s){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:c}=s===void 0?{}:s,o=zt(),m=He(),x=Ws(t,{relative:i});return d.useCallback(p=>{if(ha(p,r)){p.preventDefault();let b=a!==void 0?a:ct(m)===ct(x);o(t,{replace:b,state:n,preventScrollReset:l,relative:i,viewTransition:c})}},[m,o,x,a,n,r,t,l,i,c])}var xt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ja={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},fe,Mt,gs,Na=(gs=class{constructor(){R(this,fe,ja);R(this,Mt,!1)}setTimeoutProvider(t){A(this,fe,t)}setTimeout(t,s){return f(this,fe).setTimeout(t,s)}clearTimeout(t){f(this,fe).clearTimeout(t)}setInterval(t,s){return f(this,fe).setInterval(t,s)}clearInterval(t){f(this,fe).clearInterval(t)}},fe=new WeakMap,Mt=new WeakMap,gs),Pt=new Na;function wa(t){setTimeout(t,0)}var pt=typeof window>"u"||"Deno"in globalThis;function X(){}function ka(t,s){return typeof t=="function"?t(s):t}function Sa(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ca(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Dt(t,s){return typeof t=="function"?t(s):t}function _a(t,s){return typeof t=="function"?t(s):t}function ss(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:l,queryKey:i,stale:c}=t;if(i){if(a){if(s.queryHash!==qt(i,s.options))return!1}else if(!Ye(s.queryKey,i))return!1}if(r!=="all"){const o=s.isActive();if(r==="active"&&!o||r==="inactive"&&o)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||n&&n!==s.state.fetchStatus||l&&!l(s))}function rs(t,s){const{exact:r,status:a,predicate:n,mutationKey:l}=t;if(l){if(!s.options.mutationKey)return!1;if(r){if(Je(s.options.mutationKey)!==Je(l))return!1}else if(!Ye(s.options.mutationKey,l))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function qt(t,s){return((s==null?void 0:s.queryKeyHashFn)||Je)(t)}function Je(t){return JSON.stringify(t,(s,r)=>At(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Ye(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Ye(t[r],s[r])):!1}var Pa=Object.prototype.hasOwnProperty;function Vs(t,s){if(t===s)return t;const r=as(t)&&as(s);if(!r&&!(At(t)&&At(s)))return s;const n=(r?t:Object.keys(t)).length,l=r?s:Object.keys(s),i=l.length,c=r?new Array(i):{};let o=0;for(let m=0;m<i;m++){const x=r?m:l[m],p=t[x],b=s[x];if(p===b){c[x]=p,(r?m<n:Pa.call(t,x))&&o++;continue}if(p===null||b===null||typeof p!="object"||typeof b!="object"){c[x]=b;continue}const N=Vs(p,b);c[x]=N,N===p&&o++}return n===i&&o===n?t:c}function as(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function At(t){if(!ns(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!ns(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ns(t){return Object.prototype.toString.call(t)==="[object Object]"}function Da(t){return new Promise(s=>{Pt.setTimeout(s,t)})}function Aa(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Vs(t,s):s}function Ea(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function Ra(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var Bt=Symbol();function Ks(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Bt?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Pe,be,Me,fs,Ta=(fs=class extends xt{constructor(){super();R(this,Pe);R(this,be);R(this,Me);A(this,Me,s=>{if(!pt&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){f(this,be)||this.setEventListener(f(this,Me))}onUnsubscribe(){var s;this.hasListeners()||((s=f(this,be))==null||s.call(this),A(this,be,void 0))}setEventListener(s){var r;A(this,Me,s),(r=f(this,be))==null||r.call(this),A(this,be,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){f(this,Pe)!==s&&(A(this,Pe,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof f(this,Pe)=="boolean"?f(this,Pe):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Pe=new WeakMap,be=new WeakMap,Me=new WeakMap,fs),Zs=new Ta;function Ia(){let t,s;const r=new Promise((n,l)=>{t=n,s=l});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}var Ma=wa;function La(){let t=[],s=0,r=c=>{c()},a=c=>{c()},n=Ma;const l=c=>{s?t.push(c):n(()=>{r(c)})},i=()=>{const c=t;t=[],c.length&&n(()=>{a(()=>{c.forEach(o=>{r(o)})})})};return{batch:c=>{let o;s++;try{o=c()}finally{s--,s||i()}return o},batchCalls:c=>(...o)=>{l(()=>{c(...o)})},schedule:l,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{n=c}}}var Q=La(),Le,ye,Fe,bs,Fa=(bs=class extends xt{constructor(){super();R(this,Le,!0);R(this,ye);R(this,Fe);A(this,Fe,s=>{if(!pt&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){f(this,ye)||this.setEventListener(f(this,Fe))}onUnsubscribe(){var s;this.hasListeners()||((s=f(this,ye))==null||s.call(this),A(this,ye,void 0))}setEventListener(s){var r;A(this,Fe,s),(r=f(this,ye))==null||r.call(this),A(this,ye,s(this.setOnline.bind(this)))}setOnline(s){f(this,Le)!==s&&(A(this,Le,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return f(this,Le)}},Le=new WeakMap,ye=new WeakMap,Fe=new WeakMap,bs),dt=new Fa;function Oa(t){return Math.min(1e3*2**t,3e4)}function Js(t){return(t??"online")==="online"?dt.isOnline():!0}var Et=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ys(t){let s=!1,r=0,a;const n=Ia(),l=()=>n.status!=="pending",i=w=>{var y;if(!l()){const _=new Et(w);b(_),(y=t.onCancel)==null||y.call(t,_)}},c=()=>{s=!0},o=()=>{s=!1},m=()=>Zs.isFocused()&&(t.networkMode==="always"||dt.isOnline())&&t.canRun(),x=()=>Js(t.networkMode)&&t.canRun(),p=w=>{l()||(a==null||a(),n.resolve(w))},b=w=>{l()||(a==null||a(),n.reject(w))},N=()=>new Promise(w=>{var y;a=_=>{(l()||m())&&w(_)},(y=t.onPause)==null||y.call(t)}).then(()=>{var w;a=void 0,l()||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(l())return;let w;const y=r===0?t.initialPromise:void 0;try{w=y??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(p).catch(_=>{var S;if(l())return;const D=t.retry??(pt?0:3),g=t.retryDelay??Oa,u=typeof g=="function"?g(r,_):g,h=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,_);if(s||!h){b(_);return}r++,(S=t.onFail)==null||S.call(t,r,_),Da(u).then(()=>m()?void 0:N()).then(()=>{s?b(_):v()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(a==null||a(),n),cancelRetry:c,continueRetry:o,canStart:x,start:()=>(x()?v():N().then(v),n)}}var De,ys,Xs=(ys=class{constructor(){R(this,De)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sa(this.gcTime)&&A(this,De,Pt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(pt?1/0:5*60*1e3))}clearGcTimeout(){f(this,De)&&(Pt.clearTimeout(f(this,De)),A(this,De,void 0))}},De=new WeakMap,ys),Ae,Oe,J,Ee,B,Xe,Re,ee,me,vs,$a=(vs=class extends Xs{constructor(s){super();R(this,ee);R(this,Ae);R(this,Oe);R(this,J);R(this,Ee);R(this,B);R(this,Xe);R(this,Re);A(this,Re,!1),A(this,Xe,s.defaultOptions),this.setOptions(s.options),this.observers=[],A(this,Ee,s.client),A(this,J,f(this,Ee).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,A(this,Ae,is(this.options)),this.state=s.state??f(this,Ae),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=f(this,B))==null?void 0:s.promise}setOptions(s){if(this.options={...f(this,Xe),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=is(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),A(this,Ae,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&f(this,J).remove(this)}setData(s,r){const a=Aa(this.state.data,s,this.options);return H(this,ee,me).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){H(this,ee,me).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=f(this,B))==null?void 0:a.promise;return(n=f(this,B))==null||n.cancel(s),r?r.then(X).catch(X):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,Ae))}isActive(){return this.observers.some(s=>_a(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Dt(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Ca(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=f(this,B))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=f(this,B))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),f(this,J).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(f(this,B)&&(f(this,Re)?f(this,B).cancel({revert:!0}):f(this,B).cancelRetry()),this.scheduleGc()),f(this,J).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,ee,me).call(this,{type:"invalidate"})}async fetch(s,r){var o,m,x,p,b,N,v,w,y,_,D,g;if(this.state.fetchStatus!=="idle"&&((o=f(this,B))==null?void 0:o.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(f(this,B))return f(this,B).continueRetry(),f(this,B).promise}if(s&&this.setOptions(s),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const a=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(A(this,Re,!0),a.signal)})},l=()=>{const u=Ks(this.options,r),S=(()=>{const P={client:f(this,Ee),queryKey:this.queryKey,meta:this.meta};return n(P),P})();return A(this,Re,!1),this.options.persister?this.options.persister(u,S,this):u(S)},c=(()=>{const u={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:f(this,Ee),state:this.state,fetchFn:l};return n(u),u})();(m=this.options.behavior)==null||m.onFetch(c,this),A(this,Oe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=c.fetchOptions)==null?void 0:x.meta))&&H(this,ee,me).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta}),A(this,B,Ys({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:u=>{u instanceof Et&&u.revert&&this.setState({...f(this,Oe),fetchStatus:"idle"}),a.abort()},onFail:(u,h)=>{H(this,ee,me).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{H(this,ee,me).call(this,{type:"pause"})},onContinue:()=>{H(this,ee,me).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const u=await f(this,B).start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),(N=(b=f(this,J).config).onSuccess)==null||N.call(b,u,this),(w=(v=f(this,J).config).onSettled)==null||w.call(v,u,this.state.error,this),u}catch(u){if(u instanceof Et){if(u.silent)return f(this,B).promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw H(this,ee,me).call(this,{type:"error",error:u}),(_=(y=f(this,J).config).onError)==null||_.call(y,u,this),(g=(D=f(this,J).config).onSettled)==null||g.call(D,this.state.data,u,this),u}finally{this.scheduleGc()}}},Ae=new WeakMap,Oe=new WeakMap,J=new WeakMap,Ee=new WeakMap,B=new WeakMap,Xe=new WeakMap,Re=new WeakMap,ee=new WeakSet,me=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Ua(a.data,this.options),fetchMeta:s.meta??null};case"success":const n={...a,data:s.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return A(this,Oe,s.manual?n:void 0),n;case"error":const l=s.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),Q.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),f(this,J).notify({query:this,type:"updated",action:s})})},vs);function Ua(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Js(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function is(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function ls(t){return{onFetch:(s,r)=>{var x,p,b,N,v;const a=s.options,n=(b=(p=(x=s.fetchOptions)==null?void 0:x.meta)==null?void 0:p.fetchMore)==null?void 0:b.direction,l=((N=s.state.data)==null?void 0:N.pages)||[],i=((v=s.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},o=0;const m=async()=>{let w=!1;const y=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(s.signal.aborted?w=!0:s.signal.addEventListener("abort",()=>{w=!0}),s.signal)})},_=Ks(s.options,s.fetchOptions),D=async(g,u,h)=>{if(w)return Promise.reject();if(u==null&&g.pages.length)return Promise.resolve(g);const P=(()=>{const E={client:s.client,queryKey:s.queryKey,pageParam:u,direction:h?"backward":"forward",meta:s.options.meta};return y(E),E})(),T=await _(P),{maxPages:I}=s.options,k=h?Ra:Ea;return{pages:k(g.pages,T,I),pageParams:k(g.pageParams,u,I)}};if(n&&l.length){const g=n==="backward",u=g?za:os,h={pages:l,pageParams:i},S=u(a,h);c=await D(h,S,g)}else{const g=t??l.length;do{const u=o===0?i[0]??a.initialPageParam:os(a,c);if(o>0&&u==null)break;c=await D(c,u),o++}while(o<g)}return c};s.options.persister?s.fetchFn=()=>{var w,y;return(y=(w=s.options).persister)==null?void 0:y.call(w,m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=m}}}function os(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function za(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var et,ne,G,Te,ie,pe,js,qa=(js=class extends Xs{constructor(s){super();R(this,ie);R(this,et);R(this,ne);R(this,G);R(this,Te);A(this,et,s.client),this.mutationId=s.mutationId,A(this,G,s.mutationCache),A(this,ne,[]),this.state=s.state||Ba(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){f(this,ne).includes(s)||(f(this,ne).push(s),this.clearGcTimeout(),f(this,G).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){A(this,ne,f(this,ne).filter(r=>r!==s)),this.scheduleGc(),f(this,G).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){f(this,ne).length||(this.state.status==="pending"?this.scheduleGc():f(this,G).remove(this))}continue(){var s;return((s=f(this,Te))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var i,c,o,m,x,p,b,N,v,w,y,_,D,g,u,h,S,P,T,I;const r=()=>{H(this,ie,pe).call(this,{type:"continue"})},a={client:f(this,et),meta:this.options.meta,mutationKey:this.options.mutationKey};A(this,Te,Ys({fn:()=>this.options.mutationFn?this.options.mutationFn(s,a):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{H(this,ie,pe).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{H(this,ie,pe).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>f(this,G).canRun(this)}));const n=this.state.status==="pending",l=!f(this,Te).canStart();try{if(n)r();else{H(this,ie,pe).call(this,{type:"pending",variables:s,isPaused:l}),await((c=(i=f(this,G).config).onMutate)==null?void 0:c.call(i,s,this,a));const E=await((m=(o=this.options).onMutate)==null?void 0:m.call(o,s,a));E!==this.state.context&&H(this,ie,pe).call(this,{type:"pending",context:E,variables:s,isPaused:l})}const k=await f(this,Te).start();return await((p=(x=f(this,G).config).onSuccess)==null?void 0:p.call(x,k,s,this.state.context,this,a)),await((N=(b=this.options).onSuccess)==null?void 0:N.call(b,k,s,this.state.context,a)),await((w=(v=f(this,G).config).onSettled)==null?void 0:w.call(v,k,null,this.state.variables,this.state.context,this,a)),await((_=(y=this.options).onSettled)==null?void 0:_.call(y,k,null,s,this.state.context,a)),H(this,ie,pe).call(this,{type:"success",data:k}),k}catch(k){try{throw await((g=(D=f(this,G).config).onError)==null?void 0:g.call(D,k,s,this.state.context,this,a)),await((h=(u=this.options).onError)==null?void 0:h.call(u,k,s,this.state.context,a)),await((P=(S=f(this,G).config).onSettled)==null?void 0:P.call(S,void 0,k,this.state.variables,this.state.context,this,a)),await((I=(T=this.options).onSettled)==null?void 0:I.call(T,void 0,k,s,this.state.context,a)),k}finally{H(this,ie,pe).call(this,{type:"error",error:k})}}finally{f(this,G).runNext(this)}}},et=new WeakMap,ne=new WeakMap,G=new WeakMap,Te=new WeakMap,ie=new WeakSet,pe=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Q.batch(()=>{f(this,ne).forEach(a=>{a.onMutationUpdate(s)}),f(this,G).notify({mutation:this,type:"updated",action:s})})},js);function Ba(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ue,te,tt,Ns,Wa=(Ns=class extends xt{constructor(s={}){super();R(this,ue);R(this,te);R(this,tt);this.config=s,A(this,ue,new Set),A(this,te,new Map),A(this,tt,0)}build(s,r,a){const n=new qa({client:s,mutationCache:this,mutationId:++at(this,tt)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){f(this,ue).add(s);const r=nt(s);if(typeof r=="string"){const a=f(this,te).get(r);a?a.push(s):f(this,te).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(f(this,ue).delete(s)){const r=nt(s);if(typeof r=="string"){const a=f(this,te).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&f(this,te).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=nt(s);if(typeof r=="string"){const a=f(this,te).get(r),n=a==null?void 0:a.find(l=>l.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=nt(s);if(typeof r=="string"){const n=(a=f(this,te).get(r))==null?void 0:a.find(l=>l!==s&&l.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Q.batch(()=>{f(this,ue).forEach(s=>{this.notify({type:"removed",mutation:s})}),f(this,ue).clear(),f(this,te).clear()})}getAll(){return Array.from(f(this,ue))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>rs(r,a))}findAll(s={}){return this.getAll().filter(r=>rs(s,r))}notify(s){Q.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Q.batch(()=>Promise.all(s.map(r=>r.continue().catch(X))))}},ue=new WeakMap,te=new WeakMap,tt=new WeakMap,Ns);function nt(t){var s;return(s=t.options.scope)==null?void 0:s.id}var le,ws,Ha=(ws=class extends xt{constructor(s={}){super();R(this,le);this.config=s,A(this,le,new Map)}build(s,r,a){const n=r.queryKey,l=r.queryHash??qt(n,r);let i=this.get(l);return i||(i=new $a({client:s,queryKey:n,queryHash:l,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(i)),i}add(s){f(this,le).has(s.queryHash)||(f(this,le).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=f(this,le).get(s.queryHash);r&&(s.destroy(),r===s&&f(this,le).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Q.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return f(this,le).get(s)}getAll(){return[...f(this,le).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>ss(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>ss(s,a)):r}notify(s){Q.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Q.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Q.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},le=new WeakMap,ws),$,ve,je,$e,Ue,Ne,ze,qe,ks,Ga=(ks=class{constructor(t={}){R(this,$);R(this,ve);R(this,je);R(this,$e);R(this,Ue);R(this,Ne);R(this,ze);R(this,qe);A(this,$,t.queryCache||new Ha),A(this,ve,t.mutationCache||new Wa),A(this,je,t.defaultOptions||{}),A(this,$e,new Map),A(this,Ue,new Map),A(this,Ne,0)}mount(){at(this,Ne)._++,f(this,Ne)===1&&(A(this,ze,Zs.subscribe(async t=>{t&&(await this.resumePausedMutations(),f(this,$).onFocus())})),A(this,qe,dt.subscribe(async t=>{t&&(await this.resumePausedMutations(),f(this,$).onOnline())})))}unmount(){var t,s;at(this,Ne)._--,f(this,Ne)===0&&((t=f(this,ze))==null||t.call(this),A(this,ze,void 0),(s=f(this,qe))==null||s.call(this),A(this,qe,void 0))}isFetching(t){return f(this,$).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return f(this,ve).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=f(this,$).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=f(this,$).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Dt(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return f(this,$).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),n=f(this,$).get(a.queryHash),l=n==null?void 0:n.state.data,i=ka(s,l);if(i!==void 0)return f(this,$).build(this,a).setData(i,{...r,manual:!0})}setQueriesData(t,s,r){return Q.batch(()=>f(this,$).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=f(this,$).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=f(this,$);Q.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=f(this,$);return Q.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=Q.batch(()=>f(this,$).findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(X).catch(X)}invalidateQueries(t,s={}){return Q.batch(()=>(f(this,$).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=Q.batch(()=>f(this,$).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let l=n.fetch(void 0,r);return r.throwOnError||(l=l.catch(X)),n.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(X)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=f(this,$).build(this,s);return r.isStaleByTime(Dt(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(X).catch(X)}fetchInfiniteQuery(t){return t.behavior=ls(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(X).catch(X)}ensureInfiniteQueryData(t){return t.behavior=ls(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dt.isOnline()?f(this,ve).resumePausedMutations():Promise.resolve()}getQueryCache(){return f(this,$)}getMutationCache(){return f(this,ve)}getDefaultOptions(){return f(this,je)}setDefaultOptions(t){A(this,je,t)}setQueryDefaults(t,s){f(this,$e).set(Je(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...f(this,$e).values()],r={};return s.forEach(a=>{Ye(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){f(this,Ue).set(Je(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...f(this,Ue).values()],r={};return s.forEach(a=>{Ye(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...f(this,je).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=qt(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Bt&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...f(this,je).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){f(this,$).clear(),f(this,ve).clear()}},$=new WeakMap,ve=new WeakMap,je=new WeakMap,$e=new WeakMap,Ue=new WeakMap,Ne=new WeakMap,ze=new WeakMap,qe=new WeakMap,ks),Qa=d.createContext(void 0),Va=({client:t,children:s})=>(d.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Qa.Provider,{value:t,children:s}));let Ka={data:""},Za=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ka,Ja=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ya=/\/\*[^]*?\*\/|  +/g,cs=/\n+/g,ge=(t,s)=>{let r="",a="",n="";for(let l in t){let i=t[l];l[0]=="@"?l[1]=="i"?r=l+" "+i+";":a+=l[1]=="f"?ge(i,l):l+"{"+ge(i,l[1]=="k"?"":s)+"}":typeof i=="object"?a+=ge(i,s?s.replace(/([^,])+/g,c=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,c):c?c+" "+o:o)):l):i!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ge.p?ge.p(l,i):l+":"+i+";")}return r+(s&&n?s+"{"+n+"}":n)+a},de={},er=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+er(t[r]);return s}return t},Xa=(t,s,r,a,n)=>{let l=er(t),i=de[l]||(de[l]=(o=>{let m=0,x=11;for(;m<o.length;)x=101*x+o.charCodeAt(m++)>>>0;return"go"+x})(l));if(!de[i]){let o=l!==t?t:(m=>{let x,p,b=[{}];for(;x=Ja.exec(m.replace(Ya,""));)x[4]?b.shift():x[3]?(p=x[3].replace(cs," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][x[1]]=x[2].replace(cs," ").trim();return b[0]})(t);de[i]=ge(n?{["@keyframes "+i]:o}:o,r?"":"."+i)}let c=r&&de.g?de.g:null;return r&&(de.g=de[i]),((o,m,x,p)=>{p?m.data=m.data.replace(p,o):m.data.indexOf(o)===-1&&(m.data=x?o+m.data:m.data+o)})(de[i],s,a,c),i},en=(t,s,r)=>t.reduce((a,n,l)=>{let i=s[l];if(i&&i.call){let c=i(r),o=c&&c.props&&c.props.className||/^go/.test(c)&&c;i=o?"."+o:c&&typeof c=="object"?c.props?"":ge(c,""):c===!1?"":c}return a+n+(i??"")},"");function gt(t){let s=this||{},r=t.call?t(s.p):t;return Xa(r.unshift?r.raw?en(r,[].slice.call(arguments,1),s.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(s.p):n),{}):r,Za(s.target),s.g,s.o,s.k)}let tr,Rt,Tt;gt.bind({g:1});let he=gt.bind({k:1});function tn(t,s,r,a){ge.p=s,tr=t,Rt=r,Tt=a}function _e(t,s){let r=this||{};return function(){let a=arguments;function n(l,i){let c=Object.assign({},l),o=c.className||n.className;r.p=Object.assign({theme:Rt&&Rt()},c),r.o=/ *go\d+/.test(o),c.className=gt.apply(r,a)+(o?" "+o:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),Tt&&m[0]&&Tt(c),tr(m,c)}return n}}var sn=t=>typeof t=="function",mt=(t,s)=>sn(t)?t(s):t,rn=(()=>{let t=0;return()=>(++t).toString()})(),sr=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),an=20,Wt="default",rr=(t,s)=>{let{toastLimit:r}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:a}=s;return rr(t,{type:t.toasts.find(i=>i.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=s;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let l=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+l}))}}},lt=[],ar={toasts:[],pausedAt:void 0,settings:{toastLimit:an}},oe={},nr=(t,s=Wt)=>{oe[s]=rr(oe[s]||ar,t),lt.forEach(([r,a])=>{r===s&&a(oe[s])})},ir=t=>Object.keys(oe).forEach(s=>nr(t,s)),nn=t=>Object.keys(oe).find(s=>oe[s].toasts.some(r=>r.id===t)),ft=(t=Wt)=>s=>{nr(s,t)},ln={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},on=(t={},s=Wt)=>{let[r,a]=d.useState(oe[s]||ar),n=d.useRef(oe[s]);d.useEffect(()=>(n.current!==oe[s]&&a(oe[s]),lt.push([s,a]),()=>{let i=lt.findIndex(([c])=>c===s);i>-1&&lt.splice(i,1)}),[s]);let l=r.toasts.map(i=>{var c,o,m;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((c=t[i.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||ln[i.type],style:{...t.style,...(m=t[i.type])==null?void 0:m.style,...i.style}}});return{...r,toasts:l}},cn=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||rn()}),st=t=>(s,r)=>{let a=cn(s,t,r);return ft(a.toasterId||nn(a.id))({type:2,toast:a}),a.id},W=(t,s)=>st("blank")(t,s);W.error=st("error");W.success=st("success");W.loading=st("loading");W.custom=st("custom");W.dismiss=(t,s)=>{let r={type:3,toastId:t};s?ft(s)(r):ir(r)};W.dismissAll=t=>W.dismiss(void 0,t);W.remove=(t,s)=>{let r={type:4,toastId:t};s?ft(s)(r):ir(r)};W.removeAll=t=>W.remove(void 0,t);W.promise=(t,s,r)=>{let a=W.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let l=s.success?mt(s.success,n):void 0;return l?W.success(l,{id:a,...r,...r==null?void 0:r.success}):W.dismiss(a),n}).catch(n=>{let l=s.error?mt(s.error,n):void 0;l?W.error(l,{id:a,...r,...r==null?void 0:r.error}):W.dismiss(a)}),t};var dn=1e3,mn=(t,s="default")=>{let{toasts:r,pausedAt:a}=on(t,s),n=d.useRef(new Map).current,l=d.useCallback((p,b=dn)=>{if(n.has(p))return;let N=setTimeout(()=>{n.delete(p),i({type:4,toastId:p})},b);n.set(p,N)},[]);d.useEffect(()=>{if(a)return;let p=Date.now(),b=r.map(N=>{if(N.duration===1/0)return;let v=(N.duration||0)+N.pauseDuration-(p-N.createdAt);if(v<0){N.visible&&W.dismiss(N.id);return}return setTimeout(()=>W.dismiss(N.id,s),v)});return()=>{b.forEach(N=>N&&clearTimeout(N))}},[r,a,s]);let i=d.useCallback(ft(s),[s]),c=d.useCallback(()=>{i({type:5,time:Date.now()})},[i]),o=d.useCallback((p,b)=>{i({type:1,toast:{id:p,height:b}})},[i]),m=d.useCallback(()=>{a&&i({type:6,time:Date.now()})},[a,i]),x=d.useCallback((p,b)=>{let{reverseOrder:N=!1,gutter:v=8,defaultPosition:w}=b||{},y=r.filter(g=>(g.position||w)===(p.position||w)&&g.height),_=y.findIndex(g=>g.id===p.id),D=y.filter((g,u)=>u<_&&g.visible).length;return y.filter(g=>g.visible).slice(...N?[D+1]:[0,D]).reduce((g,u)=>g+(u.height||0)+v,0)},[r]);return d.useEffect(()=>{r.forEach(p=>{if(p.dismissed)l(p.id,p.removeDelay);else{let b=n.get(p.id);b&&(clearTimeout(b),n.delete(p.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:o,startPause:c,endPause:m,calculateOffset:x}}},un=he`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,hn=he`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xn=he`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pn=_e("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${un} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${hn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gn=he`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fn=_e("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${gn} 1s linear infinite;
`,bn=he`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yn=he`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vn=_e("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,jn=_e("div")`
  position: absolute;
`,Nn=_e("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wn=he`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kn=_e("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Sn=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return s!==void 0?typeof s=="string"?d.createElement(kn,null,s):s:r==="blank"?null:d.createElement(Nn,null,d.createElement(fn,{...a}),r!=="loading"&&d.createElement(jn,null,r==="error"?d.createElement(pn,{...a}):d.createElement(vn,{...a})))},Cn=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_n=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Pn="0%{opacity:0;} 100%{opacity:1;}",Dn="0%{opacity:1;} 100%{opacity:0;}",An=_e("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,En=_e("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Rn=(t,s)=>{let r=t.includes("top")?1:-1,[a,n]=sr()?[Pn,Dn]:[Cn(r),_n(r)];return{animation:s?`${he(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${he(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Tn=d.memo(({toast:t,position:s,style:r,children:a})=>{let n=t.height?Rn(t.position||s||"top-center",t.visible):{opacity:0},l=d.createElement(Sn,{toast:t}),i=d.createElement(En,{...t.ariaProps},mt(t.message,t));return d.createElement(An,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:l,message:i}):d.createElement(d.Fragment,null,l,i))});tn(d.createElement);var In=({id:t,className:s,style:r,onHeightUpdate:a,children:n})=>{let l=d.useCallback(i=>{if(i){let c=()=>{let o=i.getBoundingClientRect().height;a(t,o)};c(),new MutationObserver(c).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return d.createElement("div",{ref:l,className:s,style:r},n)},Mn=(t,s)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...n}},Ln=gt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,it=16,Fn=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:n,toasterId:l,containerStyle:i,containerClassName:c})=>{let{toasts:o,handlers:m}=mn(r,l);return d.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:it,left:it,right:it,bottom:it,pointerEvents:"none",...i},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},o.map(x=>{let p=x.position||s,b=m.calculateOffset(x,{reverseOrder:t,gutter:a,defaultPosition:s}),N=Mn(p,b);return d.createElement(In,{id:x.id,key:x.id,onHeightUpdate:m.updateHeight,className:x.visible?Ln:"",style:N},x.type==="custom"?mt(x.message,x):n?n(x):d.createElement(Tn,{toast:x,position:p}))}))};const It="http://localhost:8000",se=ur.create({baseURL:It,timeout:1e4,headers:{"Content-Type":"application/json"}});se.interceptors.request.use(t=>{const s=localStorage.getItem("authToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));se.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),window.location.href="/login"),Promise.reject(t)});const ds={login:async t=>(await se.post("/api/auth/login",t)).data,logout:async()=>{await se.post("/api/auth/logout")},getCurrentUser:async()=>(await se.get("/api/auth/me")).data,testConnection:async()=>{var t,s;try{console.log("=== Testing backend connection ==="),console.log("API_BASE_URL:",It),console.log("Making request to:",It+"/health");const r=await se.get("/health",{timeout:5e3});return console.log("✅ Connection test successful:",r.data),!0}catch(r){return console.error("❌ Connection test failed:"),console.error("Error message:",r.message),console.error("Error code:",r.code),console.error("Response status:",(t=r.response)==null?void 0:t.status),console.error("Response data:",(s=r.response)==null?void 0:s.data),console.error("Full error:",r),!1}}},On={setToken:t=>{localStorage.setItem("authToken",t)},getToken:()=>localStorage.getItem("authToken"),removeToken:()=>{localStorage.removeItem("authToken")},isAuthenticated:()=>!!localStorage.getItem("authToken"),setUser:t=>{localStorage.setItem("currentUser",JSON.stringify(t))},getUser:()=>{const t=localStorage.getItem("currentUser");return t?JSON.parse(t):null},removeUser:()=>{localStorage.removeItem("currentUser")},clearAuth:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser")}},$n={user:null,token:localStorage.getItem("authToken"),isLoading:!0,isAuthenticated:!1},Un=(t,s)=>{switch(s.type){case"SET_LOADING":return{...t,isLoading:s.payload};case"SET_USER":return{...t,user:s.payload.user,token:s.payload.token,isAuthenticated:!0,isLoading:!1};case"CLEAR_USER":return{...t,user:null,token:null,isAuthenticated:!1,isLoading:!1};default:return t}},lr=d.createContext(void 0);function zn({children:t}){const[s,r]=d.useReducer(Un,$n),a=async(i,c)=>{try{const o=await se.post("/api/auth/login",{email:i,password:c}),{access_token:m,user:x}=o.data;localStorage.setItem("authToken",m),r({type:"SET_USER",payload:{user:x,token:m}})}catch(o){throw o}},n=()=>{localStorage.removeItem("authToken"),r({type:"CLEAR_USER"})},l=async()=>{const i=localStorage.getItem("authToken");if(!i){r({type:"SET_LOADING",payload:!1});return}try{const c=await se.get("/api/auth/me");r({type:"SET_USER",payload:{user:c.data,token:i}})}catch{localStorage.removeItem("authToken"),r({type:"CLEAR_USER"})}};return d.useEffect(()=>{l()},[]),e.jsx(lr.Provider,{value:{state:s,login:a,logout:n,checkAuth:l},children:t})}function Ie(){const t=d.useContext(lr);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function qn(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white/95 backdrop-blur-lg border-b border-gray-100 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-20",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:"🏔️"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:"GeoTech Predictor"})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Features"}),e.jsx("a",{href:"#technology",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Technology"}),e.jsx("a",{href:"#about",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"About"}),e.jsx("a",{href:"#contact",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Contact"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(q,{to:"/login",className:"text-gray-600 hover:text-gray-900 px-4 py-2 rounded-lg font-medium transition-colors",children:"Sign In"}),e.jsx(q,{to:"/login",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 shadow-lg shadow-blue-500/25",children:"Get Started"})]})]})})}),e.jsxs("section",{className:"relative overflow-hidden bg-white",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-to-r from-blue-500/3 to-purple-500/3 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200/50 rounded-full mb-8",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI-Powered Mining Safety Technology"})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight mb-8",children:[e.jsx("span",{className:"block bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:"Advanced Rockfall"}),e.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Prediction System"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-4xl mx-auto mb-12 leading-relaxed",children:"Protect your workforce with cutting-edge AI technology. Real-time monitoring, predictive analytics, and instant alerts for mining operations worldwide."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-16",children:[e.jsxs(q,{to:"/login",className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 shadow-xl shadow-blue-500/25 flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"🚀"}),e.jsx("span",{children:"Start Free Trial"})]}),e.jsxs(q,{to:"/login",className:"w-full sm:w-auto bg-white hover:bg-gray-50 text-gray-800 border-2 border-gray-200 hover:border-gray-300 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"📊"}),e.jsx("span",{children:"View Demo"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"99.7%"}),e.jsx("div",{className:"text-gray-600 font-medium",children:"Accuracy Rate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-600 font-medium",children:"Monitoring"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"500+"}),e.jsx("div",{className:"text-gray-600 font-medium",children:"Sites Protected"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"0"}),e.jsx("div",{className:"text-gray-600 font-medium",children:"Incidents"})]})]})]})})]}),e.jsx("section",{id:"features",className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-6",children:"Powerful Features"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Advanced AI algorithms combined with real-time sensor data to provide unparalleled safety monitoring"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-white text-2xl",children:"🤖"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"AI Prediction"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Advanced machine learning algorithms analyze geological patterns to predict rockfall events with 99.7% accuracy."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-white text-2xl",children:"📡"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Real-time Monitoring"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"24/7 sensor network monitoring with instant alerts and automated safety protocols for immediate response."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-white text-2xl",children:"📊"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Analytics"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Comprehensive data analysis with predictive insights and detailed reporting for informed decision making."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-white text-2xl",children:"🛡️"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Safety First"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Automated safety protocols with instant workforce evacuation alerts and emergency response coordination."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-white text-2xl",children:"🌐"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cloud Integration"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Secure cloud-based platform with mobile access, real-time collaboration, and enterprise-grade security."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-red-500 to-red-600 rounded-xl flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-white text-2xl",children:"⚡"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Instant Alerts"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Lightning-fast alert system with SMS, email, and mobile notifications for critical safety events."})]})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent mb-6",children:"Ready to Transform Your Mining Safety?"}),e.jsx("p",{className:"text-xl text-gray-600 mb-10",children:"Join hundreds of mining operations worldwide who trust our AI-powered prediction system."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx(q,{to:"/login",className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 text-white px-10 py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 shadow-xl shadow-blue-500/25",children:"Start Your Free Trial"}),e.jsx(q,{to:"/login",className:"w-full sm:w-auto text-gray-600 hover:text-gray-900 font-semibold text-lg transition-colors",children:"Schedule a Demo →"})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:"🏔️"})}),e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"GeoTech Predictor"})]}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Advanced AI-powered rockfall prediction system for mining safety."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"© 2025 GeoTech Solutions. All rights reserved."})]})})})]})}function Bn(){const[t,s]=d.useState(""),[r,a]=d.useState(""),[n,l]=d.useState(!1),[i,c]=d.useState(""),[o,m]=d.useState("checking"),x=zt(),{login:p}=Ie();d.useEffect(()=>{(async()=>{try{console.log("LoginPage: Checking backend connection...");const v=await ds.testConnection();console.log("LoginPage: Connection status:",v),m(v?"connected":"disconnected")}catch(v){console.error("LoginPage: Connection check error:",v),m("disconnected")}})()},[]),d.useEffect(()=>{On.isAuthenticated()&&x("/dashboard")},[x]);const b=async N=>{var v,w,y,_,D;N.preventDefault(),l(!0),c("");try{await p(t,r),x("/dashboard")}catch(g){((v=g.response)==null?void 0:v.status)===401?c("Invalid email or password. Please check your credentials."):((w=g.response)==null?void 0:w.status)===400?c("Account is inactive. Please contact administrator."):(y=g.message)!=null&&y.includes("Network Error")||g.code==="ECONNREFUSED"?c("Cannot connect to server. Please make sure the backend is running."):c(((D=(_=g.response)==null?void 0:_.data)==null?void 0:D.detail)||g.message||"Login failed. Please try again.")}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white flex items-center justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-md px-6",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl border border-gray-200 p-8 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl mb-4",children:e.jsx("span",{className:"text-2xl"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-600 via-blue-600 to-purple-700 bg-clip-text text-transparent mb-2",children:"GeoTech Portal"}),e.jsx("p",{className:"text-gray-600",children:"Access your quantum geological monitoring dashboard"}),e.jsxs("div",{className:`mt-4 flex items-center justify-center space-x-2 text-sm ${o==="connected"?"text-green-600":o==="disconnected"?"text-red-600":"text-yellow-600"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${o==="connected"?"bg-green-500 animate-pulse":o==="disconnected"?"bg-red-500":"bg-yellow-500 animate-pulse"}`}),e.jsxs("span",{children:[o==="connected"&&"Backend Connected",o==="disconnected"&&"Backend Disconnected",o==="checking"&&"Checking Connection..."]}),o==="disconnected"&&e.jsx("button",{onClick:async()=>{m("checking");try{const N=await ds.testConnection();m(N?"connected":"disconnected")}catch{m("disconnected")}},className:"ml-2 px-2 py-1 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded transition-colors",children:"Retry"})]})]}),i&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:i}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:t,onChange:N=>s(N.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"admin@rockfall.com",required:!0,disabled:n})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:r,onChange:N=>a(N.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:n})]}),e.jsx("button",{type:"submit",disabled:n||o==="disconnected",className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 ${n||o==="disconnected"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 via-blue-600 to-purple-600 text-white hover:from-cyan-400 hover:via-blue-500 hover:to-purple-500 hover:scale-105 shadow-lg shadow-blue-500/25"}`,children:n?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Authenticating..."})]}):o==="disconnected"?e.jsx("span",{children:"Backend Disconnected"}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{}),e.jsx("span",{children:"Access Dashboard"})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Demo Credentials"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Admin:"})," admin@rockfall.com / secret123"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Operator:"})," operator@rockfall.com / secret123"]})]})]})]}),e.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[e.jsx("p",{children:"Quantum Geological Monitoring System v2.0"}),e.jsx("p",{children:"© 2025 GeoTech Solutions. All rights reserved."})]})]})]})}function Wn(){var b,N;const{state:t}=Ie(),[s,r]=d.useState([]),[a,n]=d.useState([]),[l,i]=d.useState(!0);d.useEffect(()=>{c()},[]);const c=async()=>{setTimeout(()=>{r([{id:"1",title:"Active Sites",value:"24",change:"+2",trend:"up",icon:"🏭",color:"blue"},{id:"2",title:"Risk Predictions",value:"156",change:"+12",trend:"up",icon:"🤖",color:"purple"},{id:"3",title:"Active Sensors",value:"2,847",change:"-5",trend:"down",icon:"📡",color:"green"},{id:"4",title:"High Risk Alerts",value:"3",change:"0",trend:"stable",icon:"🚨",color:"red"}]),n([{id:"1",type:"alert",title:"High Risk Detection",message:"Site Alpha-7 shows 85% rockfall probability in next 24h",timestamp:new Date(Date.now()-10*60*1e3),priority:"high"},{id:"2",type:"prediction",title:"ML Model Update",message:"Predictive model updated with latest geological data",timestamp:new Date(Date.now()-2*60*60*1e3),priority:"medium"},{id:"3",type:"maintenance",title:"Sensor Calibration",message:"Site Beta-3 sensors successfully recalibrated",timestamp:new Date(Date.now()-4*60*60*1e3),priority:"low"},{id:"4",type:"report",title:"Weekly Report Generated",message:"Risk assessment report for September 2025 completed",timestamp:new Date(Date.now()-24*60*60*1e3),priority:"medium"}]),i(!1)},1e3)},o=v=>{const w={blue:"from-blue-500 to-blue-600 text-white",purple:"from-purple-500 to-purple-600 text-white",green:"from-green-500 to-green-600 text-white",red:"from-red-500 to-red-600 text-white"};return w[v]||w.blue},m=v=>({prediction:"🤖",alert:"🚨",maintenance:"🔧",report:"📊"})[v]||"📢",x=v=>{const w={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"};return w[v]||w.medium},p=v=>{const y=Math.floor((new Date().getTime()-v.getTime())/(1e3*60));return y<1?"Just now":y<60?`${y}m ago`:y<1440?`${Math.floor(y/60)}h ago`:`${Math.floor(y/1440)}d ago`};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",((b=t.user)==null?void 0:b.full_name)||((N=t.user)==null?void 0:N.username),"! 👋"]}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your rockfall prediction system today."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.map(v=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:`bg-gradient-to-r ${o(v.color)} p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:v.title}),e.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:v.value})]}),e.jsx("div",{className:"text-3xl opacity-80",children:v.icon})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsxs("span",{className:`inline-flex items-center ${v.trend==="up"?"text-green-600":v.trend==="down"?"text-red-600":"text-gray-600"}`,children:[v.trend==="up"&&"↗️",v.trend==="down"&&"↘️",v.trend==="stable"&&"➡️",e.jsx("span",{className:"ml-1 font-medium",children:v.change})]}),e.jsx("span",{className:"text-gray-500 ml-1",children:"from last week"})]})})]},v.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activity"}),e.jsx(q,{to:"/reports",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View all →"})]}),e.jsx("div",{className:"space-y-4",children:a.map(v=>e.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 text-2xl",children:m(v.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:v.title}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(v.priority)}`,children:v.priority})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:p(v.timestamp)})]})]},v.id))})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(q,{to:"/predictions",className:"flex items-center p-3 rounded-xl hover:bg-blue-50 transition-colors group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx("span",{className:"text-lg",children:"🤖"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New Prediction"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Run AI analysis"})]})]}),e.jsxs(q,{to:"/sites",className:"flex items-center p-3 rounded-xl hover:bg-green-50 transition-colors group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors",children:e.jsx("span",{className:"text-lg",children:"🏭"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Manage Sites"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View all locations"})]})]}),e.jsxs(q,{to:"/reports",className:"flex items-center p-3 rounded-xl hover:bg-purple-50 transition-colors group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:e.jsx("span",{className:"text-lg",children:"📊"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Generate Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Create analytics"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"System Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ML Engine"}),e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Online"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Data Pipeline"}),e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Running"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sensor Network"}),e.jsxs("span",{className:"flex items-center text-yellow-600",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-2"}),"Partial"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Alert System"}),e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Active"]})]})]})]})]})]})]})})}function Hn(){var w,y,_,D,g;const{state:t}=Ie(),[s,r]=d.useState(!1),[a,n]=d.useState("overview"),l=d.useRef(null),[i,c]=d.useState({id:((w=t.user)==null?void 0:w.id)||"1",full_name:((y=t.user)==null?void 0:y.full_name)||"Dr. Sarah Chen",username:((_=t.user)==null?void 0:_.username)||"sarah.chen",email:((D=t.user)==null?void 0:D.email)||"sarah.chen@rockfall.com",role:((g=t.user)==null?void 0:g.role)||"admin",phone:"+1 (555) 123-4567",department:"Geological Engineering",location:"Vancouver, BC, Canada",bio:"Senior Geological Engineer with 15+ years of experience in rockfall prediction and mining safety systems. Specialized in AI-driven risk assessment and predictive modeling.",avatar:void 0,status:"active",joined_date:new Date("2020-03-15"),last_login:new Date}),[o,m]=d.useState({full_name:i.full_name,phone:i.phone||"",department:i.department||"",location:i.location||"",bio:i.bio||"",status:i.status}),x=u=>({admin:"System Administrator",geologist:"Geologist",engineer:"Engineer",operator:"Site Operator",viewer:"Viewer"})[u]||u,p=u=>({active:"bg-green-500",away:"bg-yellow-500",busy:"bg-red-500",offline:"bg-gray-500"})[u]||"bg-gray-500",b=()=>{c(u=>({...u,full_name:o.full_name,phone:o.phone,department:o.department,location:o.location,bio:o.bio,status:o.status})),r(!1)},N=()=>{var u;(u=l.current)==null||u.click()},v=u=>{var S;const h=(S=u.target.files)==null?void 0:S[0];if(h){const P=new FileReader;P.onload=T=>{c(I=>{var k;return{...I,avatar:(k=T.target)==null?void 0:k.result}})},P.readAsDataURL(h)}};return e.jsxs("div",{className:"min-h-screen bg-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/20 via-purple-50/10 to-cyan-50/20"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl overflow-hidden mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 px-6 py-12 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 via-purple-600/90 to-cyan-600/90"}),e.jsxs("div",{className:"relative z-10 flex items-center space-x-8",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-white/20 backdrop-blur-sm border-4 border-white/30 flex items-center justify-center cursor-pointer group-hover:scale-105 transition-all duration-300 overflow-hidden",onClick:N,children:i.avatar?e.jsx("img",{src:i.avatar,alt:"Profile Avatar",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-5xl text-white/80",children:"👤"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-medium",children:"Change Photo"})}),e.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:v,className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:i.full_name}),e.jsx("div",{className:`w-4 h-4 rounded-full ${p(i.status)} border-2 border-white`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-white/90 text-lg",children:["@",i.username]}),e.jsx("p",{className:"text-white/80",children:i.email}),e.jsxs("div",{className:"flex items-center space-x-4 text-white/70",children:[e.jsx("span",{children:x(i.role)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:i.department}),e.jsx("span",{children:"•"}),e.jsx("span",{children:i.location})]})]}),e.jsxs("div",{className:"mt-6 flex space-x-4",children:[e.jsx("button",{onClick:()=>r(!s),className:"bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-2xl border border-white/30 hover:bg-white/30 transition-all duration-300 font-medium",children:s?"Cancel Edit":"Edit Profile"}),e.jsx("button",{className:"bg-white/20 backdrop-blur-sm text-white px-6 py-2 rounded-2xl border border-white/30 hover:bg-white/30 transition-all duration-300 font-medium",children:"Download Report"})]})]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-white/20 backdrop-blur-sm border-t border-white/20",children:e.jsx("nav",{className:"flex space-x-4",children:[{id:"overview",label:"Overview",icon:"👤"},{id:"activity",label:"Activity",icon:"📊"},{id:"settings",label:"Settings",icon:"⚙️"}].map(u=>e.jsxs("button",{onClick:()=>n(u.id),className:`group flex items-center space-x-3 px-4 py-2 rounded-2xl font-semibold transition-all duration-300 hover:scale-105 ${a===u.id?"bg-white/30 text-white shadow-lg border border-white/30":"text-white/70 hover:text-white hover:bg-white/20 border border-white/10"}`,children:[e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:u.icon}),e.jsx("span",{children:u.label})]},u.id))})})]})}),a==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-5",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl mr-4",children:e.jsx("span",{className:"text-2xl",children:"👤"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Profile Information"}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal details"})]})]}),s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"Full Name"}),e.jsx("input",{type:"text",value:o.full_name,onChange:u=>m(h=>({...h,full_name:u.target.value})),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"Phone"}),e.jsx("input",{type:"tel",value:o.phone,onChange:u=>m(h=>({...h,phone:u.target.value})),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"Department"}),e.jsx("input",{type:"text",value:o.department,onChange:u=>m(h=>({...h,department:u.target.value})),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"Location"}),e.jsx("input",{type:"text",value:o.location,onChange:u=>m(h=>({...h,location:u.target.value})),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:o.bio,onChange:u=>m(h=>({...h,bio:u.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:o.status,onChange:u=>m(h=>({...h,status:u.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"away",children:"Away"}),e.jsx("option",{value:"busy",children:"Busy"}),e.jsx("option",{value:"offline",children:"Offline"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:b,className:"bg-blue-600 text-white px-6 py-2 rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Save Changes"}),e.jsx("button",{onClick:()=>r(!1),className:"bg-gray-100 text-gray-700 px-6 py-2 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Full Name"}),e.jsx("p",{className:"text-gray-900 font-medium",children:i.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Username"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:["@",i.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-gray-900 font-medium",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-gray-900 font-medium",children:i.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{className:"text-gray-900 font-medium",children:i.department||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Location"}),e.jsx("p",{className:"text-gray-900 font-medium",children:i.location||"Not specified"})]})]}),i.bio&&e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Bio"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.bio})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reports Generated"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"47"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sites Monitored"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"12"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Predictions Made"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"234"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Login"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Today"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Role & Permissions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:"🛡️"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:x(i.role)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Full system access"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1 pl-11",children:[e.jsx("p",{children:"✅ View all sites and reports"}),e.jsx("p",{children:"✅ Manage users and permissions"}),e.jsx("p",{children:"✅ Configure system settings"}),e.jsx("p",{children:"✅ Generate and export reports"})]})]})]})]})]}),a==="activity"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Activity"}),e.jsx("div",{className:"space-y-4",children:[{action:"Generated weekly risk assessment report",time:"2 hours ago",icon:"📊"},{action:"Updated sensor configuration for Site Alpha-7",time:"5 hours ago",icon:"🔧"},{action:"Reviewed high-risk alert for geological instability",time:"1 day ago",icon:"🚨"},{action:"Completed ML model calibration",time:"2 days ago",icon:"🤖"}].map((u,h)=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-xl hover:bg-gray-50",children:[e.jsx("div",{className:"text-2xl",children:u.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900",children:u.action}),e.jsx("p",{className:"text-sm text-gray-500",children:u.time})]})]},h))})]}),a==="settings"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Account Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive alerts and updates via email"})]}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm",children:"Configure"})]}),e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security"})]}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm",children:"Enable"})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update your account password"})]}),e.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:"Update"})]})]})]})]})})]})}const vt={async getStats(){return(await se.get("/test/dashboard/stats")).data},async getPredictionSummary(){return(await se.get("/test/dashboard/predictions")).data},async getRecentAlerts(){return(await se.get("/test/dashboard/alerts")).data}};function ce(){var y,_,D,g,u;const{state:t,logout:s}=Ie(),r=He(),[a,n]=d.useState(!1),[l,i]=d.useState(!1),[c,o]=d.useState([]),m=d.useRef(null),x=d.useRef(null),p=h=>r.pathname===h;d.useEffect(()=>{const h=[{id:"1",type:"alert",title:"High Risk Alert",message:"Site Alpha-7 shows elevated rockfall probability (85%)",timestamp:new Date(Date.now()-6e5),isRead:!1},{id:"2",type:"warning",title:"Sensor Maintenance",message:"Sensor network maintenance scheduled for tomorrow 2:00 AM",timestamp:new Date(Date.now()-72e5),isRead:!1},{id:"3",type:"info",title:"System Update",message:"ML model updated with latest geological survey data",timestamp:new Date(Date.now()-216e5),isRead:!0},{id:"4",type:"success",title:"Calibration Complete",message:"All sensors at Site Beta-3 successfully calibrated",timestamp:new Date(Date.now()-864e5),isRead:!0}];o(h)},[]),d.useEffect(()=>{function h(S){m.current&&!m.current.contains(S.target)&&n(!1),x.current&&!x.current.contains(S.target)&&i(!1)}return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const b=h=>{const P=Math.floor((new Date().getTime()-h.getTime())/(1e3*60));return P<1?"Just now":P<60?`${P}m ago`:P<1440?`${Math.floor(P/60)}h ago`:`${Math.floor(P/1440)}d ago`},N=h=>{switch(h){case"alert":return"🚨";case"warning":return"⚠️";case"info":return"ℹ️";case"success":return"✅";default:return"📢"}},v=c.filter(h=>!h.isRead).length,w=h=>{o(S=>S.map(P=>P.id===h?{...P,isRead:!0}:P))};return e.jsx("nav",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"🏔️ Rockfall Prediction System"}),e.jsxs("div",{className:"hidden md:flex space-x-8",children:[e.jsx(q,{to:"/dashboard",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p("/dashboard")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"📊 Dashboard"}),e.jsx(q,{to:"/predictions",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p("/predictions")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"🤖 Predictions"}),e.jsx(q,{to:"/reports",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p("/reports")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"📊 Reports"}),e.jsx(q,{to:"/sites",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p("/sites")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"🏭 Sites"}),e.jsx(q,{to:"/devices",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p("/devices")?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"📱 Devices"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("button",{onClick:()=>i(!l),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),v>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:v>9?"9+":v})]}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),v>0&&e.jsxs("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full font-medium",children:[v," new"]})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.length===0?e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📭"}),e.jsx("p",{children:"No notifications"})]}):c.map(h=>e.jsx("div",{className:`p-4 border-b border-gray-50 hover:bg-gray-50 cursor-pointer transition-colors ${h.isRead?"":"bg-blue-50"}`,onClick:()=>w(h.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:N(h.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.title}),!h.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full ml-2 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b(h.timestamp)})]})]})},h.id))}),e.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:e.jsx("button",{className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View all notifications"})})]})]}),e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>n(!a),className:"flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900 focus:outline-none",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium",children:(((y=t.user)==null?void 0:y.full_name)||((_=t.user)==null?void 0:_.username)||"U").charAt(0).toUpperCase()}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:((D=t.user)==null?void 0:D.full_name)||((g=t.user)==null?void 0:g.username)}),e.jsx("p",{className:"text-xs text-gray-500",children:(u=t.user)==null?void 0:u.email})]}),e.jsx(q,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>n(!1),children:"👤 Profile"}),e.jsx(q,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>n(!1),children:"⚙️ Settings"}),e.jsx(q,{to:"/help",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>n(!1),children:"❓ Help"}),e.jsx(q,{to:"/services",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>n(!1),children:"🔧 Services"}),e.jsx("hr",{className:"my-1"}),e.jsx("button",{onClick:()=>{n(!1),s()},className:"block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50 transition-colors",children:"🚪 Logout"})]})]})]})]})})})}Ss.register(Cs,_s,Ps,Ds,As,Es,Rs,Ts,Is);function Gn(){const{state:t,logout:s}=Ie(),[r,a]=d.useState(null),[n,l]=d.useState([]),[i,c]=d.useState([]),[o,m]=d.useState(!0),[x,p]=d.useState(null),[b,N]=d.useState("24h"),[v,w]=d.useState("all"),[y,_]=d.useState([]),[D,g]=d.useState([]),[u,h]=d.useState([]),[S,P]=d.useState([]),[T,I]=d.useState(!1),k=()=>({labels:["6h ago","5h ago","4h ago","3h ago","2h ago","1h ago","Now"],datasets:[{label:"High Risk",data:[12,15,18,20,22,25,28],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4},{label:"Medium Risk",data:[25,22,28,30,35,32,38],borderColor:"rgb(245, 158, 11)",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.4},{label:"Low Risk",data:[45,48,42,38,35,40,32],borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4}]}),E=()=>{const C=y.filter(ae=>ae.status==="online").length,Y=y.filter(ae=>ae.status==="offline").length;return{labels:["Online","Offline","Maintenance"],datasets:[{data:[C,Y,2],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)","rgb(245, 158, 11)"],borderWidth:2}]}},M=()=>({labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Prediction Accuracy (%)",data:[92,95,88,94,97,91,96],backgroundColor:"rgba(147, 51, 234, 0.1)",borderColor:"rgb(147, 51, 234)",borderWidth:3,tension:.4},{label:"Confidence Level (%)",data:[88,90,85,89,93,87,92],backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgb(59, 130, 246)",borderWidth:3,tension:.4}]}),L=()=>({labels:["Critical","High","Medium","Low","Info"],datasets:[{label:"Alert Count",data:[3,8,15,22,12],backgroundColor:["rgba(220, 38, 38, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)"],borderColor:["rgb(220, 38, 38)","rgb(239, 68, 68)","rgb(245, 158, 11)","rgb(34, 197, 94)","rgb(59, 130, 246)"],borderWidth:1}]}),O={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:11}}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{size:11}}}}},V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"bold"}}}}};d.useEffect(()=>{re();const C=setInterval(re,3e4);return()=>clearInterval(C)},[]),d.useEffect(()=>{xe()},[n,i,b,v]);const xe=()=>{let C=[...n],Y=[...i];const ae=new Date,rt={"24h":24*60*60*1e3,"7d":7*24*60*60*1e3,"30d":30*24*60*60*1e3,"90d":90*24*60*60*1e3},j=ae.getTime()-rt[b];C=C.filter(F=>new Date(F.timestamp).getTime()>j),Y=Y.filter(F=>new Date(F.timestamp).getTime()>j),v!=="all"&&(C=C.filter(F=>F.risk_level.toLowerCase()===v)),h(C),P(Y)},re=async()=>{try{m(!0),p(null);const[C,Y,ae]=await Promise.all([vt.getStats(),vt.getPredictionSummary(),vt.getRecentAlerts()]);a(C),l(Y),c(ae),_([{device_id:"SEIS_001",status:"online",health:98,last_update:new Date},{device_id:"PORE_001",status:"online",health:95,last_update:new Date},{device_id:"TEMP_001",status:"warning",health:82,last_update:new Date},{device_id:"RAIN_001",status:"offline",health:0,last_update:new Date(Date.now()-36e5)}]),g([{time:new Date,type:"prediction",message:"High risk prediction generated for Site-001"},{time:new Date(Date.now()-18e5),type:"alert",message:"Sensor PORE_001 detected pressure spike"},{time:new Date(Date.now()-36e5),type:"maintenance",message:"TEMP_001 sensor maintenance completed"},{time:new Date(Date.now()-72e5),type:"prediction",message:"Medium risk prediction for Site-002"}])}catch(C){console.error("Error loading dashboard data:",C),p("Failed to load dashboard data")}finally{m(!1)}},Ge=C=>{switch(C.toLowerCase()){case"high":return"text-red-600";case"medium":return"text-orange-600";case"low":return"text-green-600";default:return"text-gray-600"}},Qe=C=>{switch(C.toLowerCase()){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return o&&!r?e.jsxs("div",{className:"min-h-screen bg-white flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-purple-50/20 to-cyan-50/30"}),e.jsxs("div",{className:"relative backdrop-blur-lg bg-white/20 border border-white/30 rounded-3xl p-12 shadow-2xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-transparent border-t-blue-600 border-r-purple-600 mx-auto"}),e.jsx("div",{className:"mt-4 text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent text-center",children:"Loading Dashboard..."})]})]}):e.jsxs("div",{className:"min-h-screen bg-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/20 via-purple-50/10 to-cyan-50/20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(ce,{}),e.jsx("main",{className:"max-w-7xl mx-auto py-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-3 sm:px-0",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex flex-row items-center justify-end w-full",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>I(!T),className:"group inline-flex items-center px-6 py-3 border border-white/30 rounded-2xl shadow-lg text-sm font-medium text-gray-700 bg-white/40 backdrop-blur-lg hover:bg-white/60 hover:scale-105 transform transition-all duration-300",children:[e.jsx("span",{className:"mr-2 group-hover:rotate-12 transition-transform duration-300",children:"🔍"}),"Filters"]}),e.jsxs("button",{onClick:re,className:"group inline-flex items-center px-6 py-3 border border-transparent rounded-2xl shadow-lg text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 hover:scale-105 transform transition-all duration-300",children:[e.jsx("span",{className:"mr-2 group-hover:rotate-180 transition-transform duration-500",children:"🔄"}),"Refresh"]})]})}),T&&e.jsx("div",{className:"mt-3 backdrop-blur-lg bg-white/40 border border-white/50 rounded-2xl p-4 shadow-xl",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),e.jsxs("select",{value:b,onChange:C=>N(C.target.value),className:"w-full border border-white/30 rounded-xl px-4 py-3 text-sm bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",children:[e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Level"}),e.jsxs("select",{value:v,onChange:C=>w(C.target.value),className:"w-full border border-white/30 rounded-xl px-4 py-3 text-sm bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",children:[e.jsx("option",{value:"all",children:"All Risk Levels"}),e.jsx("option",{value:"high",children:"High Risk Only"}),e.jsx("option",{value:"medium",children:"Medium Risk Only"}),e.jsx("option",{value:"low",children:"Low Risk Only"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"text-sm text-gray-600 font-medium backdrop-blur-lg bg-white/30 px-4 py-2 rounded-xl border border-white/40",children:["Showing ",u.length," predictions, ",S.length," alerts"]})})]})})]}),x&&e.jsxs("div",{className:"backdrop-blur-lg bg-red-50/80 border border-red-200/50 rounded-2xl p-4 shadow-xl mb-3",children:[e.jsx("div",{className:"text-red-700 font-medium",children:x}),e.jsx("button",{onClick:re,className:"mt-2 text-red-800 underline hover:text-red-900 font-medium",children:"Retry"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400/20 to-orange-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-orange-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"⚠️"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Current Risk Level"}),e.jsx("p",{className:`text-2xl font-bold mt-1 ${Ge((r==null?void 0:r.current_risk_level)||"unknown")}`,children:(r==null?void 0:r.current_risk_level)||"Loading..."})]})]})}),e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-400/20 to-red-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-red-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"🚨"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Active Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:(r==null?void 0:r.active_alerts)||"0"})]})]})}),e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400/20 to-green-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-green-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"📡"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Devices Online"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:r?`${r.active_devices}/${r.total_devices}`:"0/0"})]})]})}),e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400/20 to-blue-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-blue-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"📊"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Prediction Accuracy"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:r!=null&&r.prediction_accuracy?`${r.prediction_accuracy}%`:"N/A"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"📈 Latest Predictions"}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium backdrop-blur-lg bg-white/30 px-3 py-1 rounded-xl border border-white/40",children:[u.length," total"]})]}),e.jsx("div",{className:"space-y-2",children:u.length>0?u.slice(0,5).map(C=>e.jsxs("div",{className:"group flex items-center justify-between p-2 border-b border-white/20 last:border-b-0 hover:bg-white/20 rounded-2xl transition-all duration-300 hover:scale-102",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gray-800 group-hover:text-gray-900",children:[C.site_name||`Site ${C.site_id}`,C.zone_id&&` - Zone ${C.zone_id}`]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(C.timestamp).toLocaleString()}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Confidence: ",Math.round(C.confidence*100),"%"]})]}),e.jsx("div",{className:"ml-4",children:e.jsx("span",{className:`px-4 py-2 rounded-2xl text-sm font-semibold backdrop-blur-sm border transition-all duration-300 group-hover:scale-105
                        ${C.risk_level.toLowerCase()==="high"?"bg-red-100/80 text-red-800 border-red-200/50":C.risk_level.toLowerCase()==="medium"?"bg-orange-100/80 text-orange-800 border-orange-200/50":"bg-green-100/80 text-green-800 border-green-200/50"}`,children:C.risk_level})})]},C.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"📊"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No predictions for selected filters"})]})})]}),e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:"🚨 Active Alerts"}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium backdrop-blur-lg bg-white/30 px-3 py-1 rounded-xl border border-white/40",children:[S.length," active"]})]}),e.jsx("div",{className:"space-y-2",children:S.length>0?S.slice(0,5).map(C=>e.jsxs("div",{className:"group flex items-start space-x-3 p-2 border-b border-white/20 last:border-b-0 hover:bg-white/20 rounded-2xl transition-all duration-300 hover:scale-102",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-4 h-4 rounded-full mt-1 animate-pulse
                        ${C.severity.toLowerCase()==="critical"?"bg-red-500 shadow-lg shadow-red-500/50":C.severity.toLowerCase()==="high"?"bg-orange-500 shadow-lg shadow-orange-500/50":C.severity.toLowerCase()==="medium"?"bg-yellow-500 shadow-lg shadow-yellow-500/50":"bg-green-500 shadow-lg shadow-green-500/50"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 group-hover:text-gray-900",children:C.message}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[C.site_name||C.site_id," • ",new Date(C.timestamp).toLocaleString()]}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-2xl text-xs font-semibold mt-2 backdrop-blur-sm border transition-all duration-300 group-hover:scale-105 ${Qe(C.severity)}`,children:C.severity})]})]},C.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"🔕"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No active alerts"})]})})]}),e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"📡 Sensor Health"}),e.jsxs("span",{className:"text-sm text-gray-600 font-medium backdrop-blur-lg bg-white/30 px-3 py-1 rounded-xl border border-white/40",children:[y.filter(C=>C.status==="online").length,"/",y.length," online"]})]}),e.jsx("div",{className:"space-y-4",children:y.map(C=>e.jsxs("div",{className:"group flex items-center justify-between p-4 border-b border-white/20 last:border-b-0 hover:bg-white/20 rounded-2xl transition-all duration-300",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-4 h-4 rounded-full mr-4 animate-pulse shadow-lg
                          ${C.status==="online"?"bg-green-500 shadow-green-500/50":C.status==="warning"?"bg-yellow-500 shadow-yellow-500/50":"bg-red-500 shadow-red-500/50"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800 group-hover:text-gray-900",children:C.device_id}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Health: ",C.health,"% • ",C.status]})]})]})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"w-20 bg-white/30 rounded-full h-3 backdrop-blur-sm border border-white/40",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${C.health>90?"bg-gradient-to-r from-green-400 to-green-600":C.health>70?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-red-400 to-red-600"}`,style:{width:`${C.health}%`}})})})]},C.device_id))})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-6",children:"🕒 Event Timeline"}),e.jsx("div",{className:"space-y-4",children:D.slice(0,10).map((C,Y)=>e.jsxs("div",{className:"group flex items-start space-x-4 p-4 hover:bg-white/20 rounded-2xl transition-all duration-300",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-4 h-4 rounded-full mt-2 animate-pulse shadow-lg
                        ${C.type==="prediction"?"bg-blue-500 shadow-blue-500/50":C.type==="alert"?"bg-red-500 shadow-red-500/50":C.type==="maintenance"?"bg-green-500 shadow-green-500/50":"bg-gray-500 shadow-gray-500/50"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800 group-hover:text-gray-900",children:C.message}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[C.time.toLocaleString()," • ",C.type]})]})]},Y))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-4",children:[e.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3",children:"📊 Analytics & Insights"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 p-3",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-2 flex items-center",children:["📈 Risk Level Trends",e.jsx("span",{className:"ml-2 text-sm text-gray-600 font-normal",children:"(Last 6 hours)"})]}),e.jsx("div",{className:"h-48",children:e.jsx(ot,{data:k(),options:O})})]}),e.jsxs("div",{className:"backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 p-3",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-2 flex items-center",children:["🎯 Prediction Performance",e.jsx("span",{className:"ml-2 text-sm text-gray-600 font-normal",children:"(Last 7 days)"})]}),e.jsx("div",{className:"h-48",children:e.jsx(ot,{data:M(),options:O})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 p-3",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2 flex items-center",children:"🔧 Device Status"}),e.jsx("div",{className:"h-40",children:e.jsx(Ms,{data:E(),options:V})})]}),e.jsxs("div",{className:"backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 p-3",children:[e.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-2 flex items-center",children:["🚨 Alert Distribution",e.jsx("span",{className:"ml-2 text-sm text-gray-600 font-normal",children:"(24h)"})]}),e.jsx("div",{className:"h-40",children:e.jsx(Lt,{data:L(),options:{...O,plugins:{...O.plugins,legend:{display:!1}}}})})]}),e.jsxs("div",{className:"backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 p-3",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"🎛️ Quick Metrics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"System Uptime"}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:"99.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Avg Response Time"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:"45ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Data Processed"}),e.jsx("span",{className:"text-sm font-bold text-purple-600",children:"2.4GB"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Predictions Today"}),e.jsx("span",{className:"text-sm font-bold text-orange-600",children:(r==null?void 0:r.recent_predictions)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active Monitors"}),e.jsx("span",{className:"text-sm font-bold text-cyan-600",children:y.filter(C=>C.status==="online").length})]})]})]})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-4",children:[e.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent mb-3",children:"System Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"group text-center p-3 backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 hover:scale-105 transform transition-all duration-300",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2",children:"Mining Sites"}),e.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:(r==null?void 0:r.total_sites)||0}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:"Total monitored sites"})]}),e.jsxs("div",{className:"group text-center p-3 backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 hover:scale-105 transform transition-all duration-300",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2",children:"Total Predictions"}),e.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:(r==null?void 0:r.total_predictions)||0}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 font-medium",children:"Lifetime predictions"})]}),e.jsxs("div",{className:"group text-center p-3 backdrop-blur-sm bg-white/20 rounded-2xl border border-white/30 hover:scale-105 transform transition-all duration-300",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2",children:"Recent Activity"}),e.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:(r==null?void 0:r.recent_predictions)||0}),e.jsx("p",{className:"text-xs text-gray-600",children:"Predictions in last 24h"})]})]})]})})]})})]})]})}const Qn=[{id:"data_ingestion",name:"Data Ingestion",description:"Loading and validating drone imagery and sensor data",status:"pending",progress:0,estimatedTime:30,icon:"📡"},{id:"image_enhancement",name:"AI Image Enhancement",description:"Applying neural network-based image enhancement",status:"pending",progress:0,estimatedTime:45,icon:"🔍"},{id:"feature_detection",name:"Geological Feature Detection",description:"Identifying fractures, joints, and weak zones",status:"pending",progress:0,estimatedTime:60,icon:"🏔️"},{id:"sensor_fusion",name:"Multi-Sensor Data Fusion",description:"Combining sensor data with geological mapping",status:"pending",progress:0,estimatedTime:40,icon:"🔗"},{id:"ai_analysis",name:"Deep Learning Analysis",description:"Running advanced AI models for risk assessment",status:"pending",progress:0,estimatedTime:90,icon:"🧠"},{id:"prediction_generation",name:"Prediction Generation",description:"Generating probabilistic risk predictions",status:"pending",progress:0,estimatedTime:35,icon:"⚡"},{id:"visualization",name:"3D Visualization",description:"Creating interactive 3D risk visualizations",status:"pending",progress:0,estimatedTime:25,icon:"🎯"}];function Vn(){const[t,s]=d.useState([]),[r,a]=d.useState([]),[n,l]=d.useState(Qn),[i,c]=d.useState(!1),[o,m]=d.useState(null),[x,p]=d.useState(-1),[b,N]=d.useState(""),[v,w]=d.useState("standard"),[y,_]=d.useState(!1),[D,g]=d.useState(!1),[u,h]=d.useState(!1);d.useEffect(()=>{const k=setInterval(()=>{h(!0),setTimeout(()=>h(!1),2e3)},5e3);return()=>clearInterval(k)},[]);const S=k=>{Array.from(k).forEach(E=>{const M=`img_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,L=new FileReader;L.onload=O=>{var xe;const V={file:E,type:"aerial_photo",id:M,preview:(xe=O.target)==null?void 0:xe.result,timestamp:new Date().toISOString(),quality:E.size>1e7?"ULTRA":E.size>5e6?"HIGH":"MEDIUM",size:E.size,metadata:{altitude:150+Math.random()*100,coordinates:[-123.25+Math.random()*.1,49.28+Math.random()*.1],weather:"Clear"}};s(re=>[...re,V])},L.readAsDataURL(E)})},P=async()=>{if(t.length===0){alert("Please upload at least one drone image");return}c(!0),g(!0),p(0);for(let E=0;E<n.length;E++){p(E),l(M=>M.map((L,O)=>O===E?{...L,status:"running"}:L));for(let M=0;M<=100;M+=2)l(L=>L.map((O,V)=>V===E?{...O,progress:M}:O)),await new Promise(L=>setTimeout(L,n[E].estimatedTime));l(M=>M.map((L,O)=>O===E?{...L,status:"completed",progress:100}:L)),await new Promise(M=>setTimeout(M,200))}const k={id:`pred_${Date.now()}`,riskScore:.75+Math.random()*.2,riskLevel:Math.random()>.7?"HIGH":Math.random()>.4?"MEDIUM":"LOW",estimatedVolume:150+Math.random()*300,confidence:.85+Math.random()*.1,preventiveActions:["Install additional monitoring sensors","Implement early warning system","Restrict access to high-risk zones","Schedule detailed geological survey"],predictions:{immediate:{probability:.15+Math.random()*.1,timeWindow:"Next 24 hours"},shortTerm:{probability:.35+Math.random()*.2,timeWindow:"Next 7 days"},longTerm:{probability:.65+Math.random()*.25,timeWindow:"Next 30 days"}},visualizations:{heatmap:"/api/visualizations/heatmap",trajectory:"/api/visualizations/trajectory",riskZones:"/api/visualizations/risk-zones"},alertLevel:Math.floor(Math.random()*5)+1};m(k),c(!1),g(!1)},T=k=>{switch(k){case"LOW":return"from-green-400 to-emerald-500";case"MEDIUM":return"from-yellow-400 to-orange-500";case"HIGH":return"from-orange-500 to-red-500";case"CRITICAL":return"from-red-500 to-pink-600";default:return"from-gray-400 to-gray-500"}},I=k=>{switch(k){case"ULTRA":return"text-purple-400 border-purple-400";case"HIGH":return"text-blue-400 border-blue-400";case"MEDIUM":return"text-yellow-400 border-yellow-400";case"LOW":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(ce,{}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse animation-delay-2000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-cyan-500/3 rounded-full blur-3xl animate-pulse animation-delay-4000"})]}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
            linear-gradient(rgba(59, 130, 246, 0.2) 1px, transparent 1px),
            linear-gradient(90deg, rgba(59, 130, 246, 0.2) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:`text-5xl font-bold bg-gradient-to-r from-cyan-600 via-blue-600 to-purple-700 bg-clip-text text-transparent mb-4 ${u?"animate-pulse":""}`,children:"🚀 Quantum Rockfall Prediction Engine"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Harness the power of advanced AI, quantum computing, and multi-dimensional sensor fusion for unprecedented geological risk assessment accuracy"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"⚙️"}),"Analysis Configuration"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"standard",name:"Standard Analysis",desc:"Traditional ML approach",time:"~5 min",icon:"📊"},{id:"advanced",name:"Advanced AI",desc:"Deep neural networks",time:"~8 min",icon:"🧠"},{id:"realtime",name:"Quantum Processing",desc:"Real-time quantum analysis",time:"~2 min",icon:"⚡"}].map(k=>e.jsxs("button",{onClick:()=>w(k.id),className:`p-4 rounded-2xl border-2 transition-all duration-300 ${v===k.id?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-300 bg-white text-gray-600 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:k.icon}),e.jsx("div",{className:"font-semibold",children:k.name}),e.jsx("div",{className:"text-sm opacity-70",children:k.desc}),e.jsx("div",{className:"text-xs mt-1 opacity-50",children:k.time})]},k.id))})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🛸"}),"Drone Data Repository"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-8 text-center hover:border-cyan-400 transition-colors duration-300 group",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:k=>k.target.files&&S(k.target.files),className:"hidden",id:"drone-upload"}),e.jsxs("label",{htmlFor:"drone-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"text-6xl mb-4 group-hover:scale-110 transition-transform duration-300",children:"📷"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Drop your aerial imagery here"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Support: DEM, Orthophoto, Point Cloud, Aerial Photos"})]})]}),t.length>0&&e.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(k=>e.jsx("div",{className:"group relative",children:e.jsxs("div",{className:"bg-gray-100 rounded-xl overflow-hidden border border-gray-300",children:[e.jsx("img",{src:k.preview,alt:"Drone image",className:"w-full h-24 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${I(k.quality)} bg-white`,children:k.quality}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[(k.size/1024/1024).toFixed(1)," MB"]})]})]})},k.id))})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🌍"}),"Site Configuration"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Site"}),e.jsxs("select",{value:b,onChange:k=>N(k.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-800 focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select monitoring site..."}),e.jsx("option",{value:"alpha-7",children:"Site Alpha-7 (Vancouver Island)"}),e.jsx("option",{value:"beta-3",children:"Site Beta-3 (Rocky Mountains)"}),e.jsx("option",{value:"gamma-1",children:"Site Gamma-1 (Coastal Range)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benchmark ID"}),e.jsx("input",{type:"text",placeholder:"BM-2025-001",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-800 focus:ring-2 focus:ring-cyan-400 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mission ID"}),e.jsx("input",{type:"text",placeholder:"DM-SEP-2025-15",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-800 focus:ring-2 focus:ring-cyan-400 focus:border-transparent"})]})]})]})]}),e.jsx("button",{onClick:P,disabled:i||t.length===0,className:`w-full py-6 px-8 rounded-2xl font-bold text-lg transition-all duration-300 transform ${i?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 via-blue-600 to-purple-600 text-white hover:from-cyan-400 hover:via-blue-500 hover:to-purple-500 hover:scale-105 shadow-2xl shadow-blue-500/25"} ${D?"animate-pulse":""}`,children:i?e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Quantum Analysis in Progress..."})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("span",{children:"🚀"}),e.jsx("span",{children:"Initialize Quantum Analysis"})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"⚡"}),"Processing Pipeline"]}),e.jsx("div",{className:"space-y-4",children:n.map((k,E)=>e.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-500 ${k.status==="completed"?"border-green-400/50 bg-green-50":k.status==="running"?"border-cyan-400/50 bg-cyan-50 animate-pulse":k.status==="error"?"border-red-400/50 bg-red-50":"border-gray-300/50 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:k.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:k.name}),e.jsx("div",{className:"text-sm text-gray-600",children:k.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600",children:k.status==="running"?`~${k.estimatedTime}s`:""}),e.jsx("div",{className:`text-sm font-medium ${k.status==="completed"?"text-green-600":k.status==="running"?"text-cyan-600":k.status==="error"?"text-red-600":"text-gray-500"}`,children:k.status==="completed"?"✓ Complete":k.status==="running"?"Processing...":k.status==="error"?"✗ Error":"Pending"})]})]}),(k.status==="running"||k.status==="completed")&&e.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${k.status==="completed"?"bg-green-500":"bg-cyan-500"}`,style:{width:`${k.progress}%`}})})]},k.id))})]}),o&&e.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-lg p-6 animate-fade-in",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🎯"}),"Quantum Prediction Results"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:`p-4 rounded-2xl bg-gradient-to-r ${T(o.riskLevel)} text-white`,children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(o.riskScore*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm opacity-90",children:"Risk Score"})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-gray-100 border border-gray-300",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[o.estimatedVolume.toFixed(0)," m³"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Est. Volume"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Temporal Risk Analysis"}),Object.entries(o.predictions).map(([k,E])=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-100 rounded-xl",children:[e.jsx("span",{className:"text-gray-700 capitalize",children:k.replace(/([A-Z])/g," $1")}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-gray-800 font-semibold",children:[(E.probability*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:E.timeWindow})]})]},k))]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-700",children:"Confidence Level"}),e.jsxs("span",{className:"text-cyan-600 font-semibold",children:[(o.confidence*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3",children:e.jsx("div",{className:"h-3 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${o.confidence*100}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-center p-4 bg-gradient-to-r from-orange-100 to-red-100 rounded-2xl border border-orange-300",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🚨"}),e.jsxs("span",{className:"text-orange-700 font-semibold",children:["Alert Level ",o.alertLevel,"/5"]})]})]})]})]})]})]}),e.jsx("style",{children:`
          @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
          }
          
          .animate-fade-in {
            animation: fade-in 0.8s ease-out;
          }
          
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          
          .animation-delay-4000 {
            animation-delay: 4s;
          }
        `})]})}const Kn="modulepreload",Zn=function(t){return"/"+t},ms={},jt=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(r.map(o=>{if(o=Zn(o),o in ms)return;ms[o]=!0;const m=o.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${x}`))return;const p=document.createElement("link");if(p.rel=m?"stylesheet":Kn,m||(p.as="script"),p.crossOrigin="",p.href=o,c&&p.setAttribute("nonce",c),document.head.appendChild(p),m)return new Promise((b,N)=>{p.addEventListener("load",b),p.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return n.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return s().catch(l)})};Ss.register(Cs,_s,Ps,Ds,As,Is,Es,Rs,Ts,hr);function Jn(){const[t,s]=d.useState(null),[r,a]=d.useState({}),[n,l]=d.useState(!1),[i,c]=d.useState([]),[o,m]=d.useState([]),[x,p]=d.useState(!1),b=d.useRef(null);d.useEffect(()=>{N(),v()},[]);const N=async()=>{try{const h=await fetch("/api/predictions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(h.ok){const S=await h.json();c(S)}}catch(h){console.error("Error fetching predictions:",h)}},v=async()=>{try{const h=await fetch("/api/sites",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(h.ok){const S=await h.json();m(S)}}catch(h){console.error("Error fetching sites:",h)}},w=async()=>{if(!r.predictionId){alert("Please select a prediction to generate report");return}l(!0);try{const h=await fetch(`/api/predictions/enhanced/report/${r.predictionId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(h.ok){const S=await h.json();s(S)}else alert("Failed to fetch report data")}catch(h){console.error("Error fetching report data:",h),alert("Error loading report data")}finally{l(!1)}},y=async h=>{if(!t){alert("No report data available for export");return}p(!0);try{let S,P;switch(h){case"pdf":S=await _(),P=`rockfall_report_${t.metadata.reportId}.pdf`;break;case"csv":S=await D(),P=`rockfall_report_${t.metadata.reportId}.csv`;break;case"excel":S=await g(),P=`rockfall_report_${t.metadata.reportId}.xlsx`;break;case"json":S=u(),P=`rockfall_report_${t.metadata.reportId}.json`;break;default:throw new Error("Unsupported export format")}const T=URL.createObjectURL(S),I=document.createElement("a");I.href=T,I.download=P,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(T)}catch(S){console.error(`Error exporting to ${h}:`,S),alert(`Failed to export to ${h.toUpperCase()}`)}finally{p(!1)}},_=async()=>{const h=(await jt(async()=>{const{default:V}=await import("./jspdf.es.min-Cbsc1A9l.js");return{default:V}},__vite__mapDeps([0,1,2,3]))).default,S=(await jt(async()=>{const{default:V}=await import("./html2canvas.esm-DadlvMMh.js");return{default:V}},[])).default;if(!b.current)throw new Error("Report content not found");const P=new h("p","mm","a4");P.setFontSize(20),P.text("Rockfall Prediction Report",20,30),P.setFontSize(12),P.text(`Site: ${t.metadata.siteName}`,20,50),P.text(`Report ID: ${t.metadata.reportId}`,20,60),P.text(`Generated: ${new Date().toLocaleString()}`,20,70);const I=(await S(b.current,{scale:2,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),k=P.getImageProperties(I),E=P.internal.pageSize.getWidth(),M=k.height*E/k.width;let L=M,O=90;for(P.addImage(I,"PNG",10,O,E-20,M),L-=P.internal.pageSize.getHeight()-O;L>=0;)O=L-M+10,P.addPage(),P.addImage(I,"PNG",10,O,E-20,M),L-=P.internal.pageSize.getHeight();return new Blob([P.output("blob")],{type:"application/pdf"})},D=async()=>{if(!t)throw new Error("No report data");let h=`Rockfall Prediction Report - Raw Data

`;return h+=`METADATA
`,h+=`Report ID,${t.metadata.reportId}
`,h+=`Site,${t.metadata.siteName}
`,h+=`Bench ID,${t.metadata.benchId}
`,h+=`Timestamp,${t.metadata.timestamp}

`,h+=`DRONE IMAGES
`,h+=`Filename,Type,Processed,Annotations
`,t.droneAnalysis.images.forEach(S=>{h+=`${S.filename},${S.type},${S.processed},${S.annotations.join(";")}
`}),h+=`
DEM DATA
`,h+=`Min Elevation,${t.droneAnalysis.demData.elevationRange.min}
`,h+=`Max Elevation,${t.droneAnalysis.demData.elevationRange.max}
`,h+=`Bench Height,${t.droneAnalysis.demData.benchGeometry.height}
`,h+=`Bench Width,${t.droneAnalysis.demData.benchGeometry.width}
`,h+=`Slope Angle,${t.droneAnalysis.demData.benchGeometry.angle}

`,h+=`SENSOR READINGS
`,h+=`Device ID,Timestamp,Pore Pressure,Displacement,Acceleration,Temperature,Seismic Activity
`,t.sensorData.readings.forEach(S=>{h+=`${S.deviceId},${S.timestamp},${S.porePressure||""},${S.displacement||""},${S.acceleration||""},${S.temperature||""},${S.seismicActivity||""}
`}),h+=`
FINAL PREDICTION
`,h+=`Risk Score,${t.finalPrediction.riskScore}
`,h+=`Risk Level,${t.finalPrediction.riskLevel}
`,h+=`Confidence,${t.finalPrediction.confidence}
`,h+=`Estimated Volume,${t.finalPrediction.estimatedVolume}
`,h+=`Landing Zone Area,${t.finalPrediction.landingZone.area}
`,h+=`
FEATURE IMPORTANCE
`,h+=`Feature,Importance
`,Object.entries(t.finalPrediction.featureImportance).forEach(([S,P])=>{h+=`${S},${P}
`}),new Blob([h],{type:"text/csv;charset=utf-8;"})},g=async()=>{const h=await jt(()=>import("./xlsx-DlH_cGGF.js"),[]);if(!t)throw new Error("No report data");const S=h.utils.book_new(),P=h.utils.json_to_sheet([t.metadata]);h.utils.book_append_sheet(S,P,"Metadata");const T=h.utils.json_to_sheet(t.droneAnalysis.images);h.utils.book_append_sheet(S,T,"Drone Images");const I=[{Parameter:"Min Elevation",Value:t.droneAnalysis.demData.elevationRange.min},{Parameter:"Max Elevation",Value:t.droneAnalysis.demData.elevationRange.max},{Parameter:"Bench Height",Value:t.droneAnalysis.demData.benchGeometry.height},{Parameter:"Bench Width",Value:t.droneAnalysis.demData.benchGeometry.width},{Parameter:"Slope Angle",Value:t.droneAnalysis.demData.benchGeometry.angle}],k=h.utils.json_to_sheet(I);h.utils.book_append_sheet(S,k,"DEM Data");const E=h.utils.json_to_sheet(t.sensorData.readings);h.utils.book_append_sheet(S,E,"Sensor Readings");const M=h.utils.json_to_sheet(t.stepwiseAnalysis.stages);h.utils.book_append_sheet(S,M,"Processing Stages");const L=Object.entries(t.finalPrediction.featureImportance).map(([Ge,Qe])=>({Feature:Ge,Importance:Qe})),O=h.utils.json_to_sheet(L);h.utils.book_append_sheet(S,O,"Feature Importance");const V=[{"Risk Score":t.finalPrediction.riskScore,"Risk Level":t.finalPrediction.riskLevel,Confidence:t.finalPrediction.confidence,"Estimated Volume":t.finalPrediction.estimatedVolume,"Landing Zone Area":t.finalPrediction.landingZone.area,"Present Time Probability":t.finalPrediction.presentTime.probability,"Future Probability":t.finalPrediction.shortTermFuture.probability,"Time Window (hours)":t.finalPrediction.shortTermFuture.timeWindow}],xe=h.utils.json_to_sheet(V);h.utils.book_append_sheet(S,xe,"Final Prediction");const re=h.write(S,{bookType:"xlsx",type:"array"});return new Blob([re],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})},u=()=>{if(!t)throw new Error("No report data");const h=JSON.stringify(t,null,2);return new Blob([h],{type:"application/json"})};return e.jsxs("div",{className:"min-h-screen bg-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/20 via-purple-50/10 to-cyan-50/20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(ce,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(Yn,{filters:r,onFiltersChange:a,onGenerateReport:w,onExport:y,availablePredictions:i,sites:o,isLoading:n,isExporting:x}),t&&e.jsxs("div",{ref:b,className:"mt-8 space-y-8",children:[e.jsx(Xn,{data:t.droneAnalysis,metadata:t.metadata}),e.jsx(ei,{data:t.sensorData}),e.jsx(ti,{data:t.stepwiseAnalysis}),e.jsx(si,{data:t.finalPrediction}),e.jsx(ri,{data:t.summary})]}),n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Generating comprehensive report..."})]}),!t&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📋"}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No Report Generated"}),e.jsx("p",{className:"text-gray-500",children:'Select a prediction and click "Generate Report" to view comprehensive analysis'})]})]})]})]})}function Yn({filters:t,onFiltersChange:s,onGenerateReport:r,onExport:a,availablePredictions:n,sites:l,isLoading:i,isExporting:c}){return e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl mr-3",children:e.jsx("span",{className:"text-xl",children:"📋"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent",children:"Rockfall Prediction Report"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Comprehensive analysis and risk assessment"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a("pdf"),disabled:!t.predictionId||c,className:"group bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white px-4 py-2 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center transition-all duration-300 hover:scale-105 shadow-lg",children:e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"📄 PDF"})}),e.jsx("button",{onClick:()=>a("csv"),disabled:!t.predictionId||c,className:"group bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-4 py-2 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center transition-all duration-300 hover:scale-105 shadow-lg",children:e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"📊 CSV"})}),e.jsx("button",{onClick:()=>a("excel"),disabled:!t.predictionId||c,className:"group bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-4 py-2 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center transition-all duration-300 hover:scale-105 shadow-lg",children:e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"📈 Excel"})}),e.jsx("button",{onClick:()=>a("json"),disabled:!t.predictionId||c,className:"group bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white px-4 py-2 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center transition-all duration-300 hover:scale-105 shadow-lg",children:e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"🔗 JSON"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wider",children:"Prediction Task"}),e.jsxs("select",{value:t.predictionId||"",onChange:o=>s({...t,predictionId:o.target.value}),className:"w-full px-3 py-2 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800",children:[e.jsx("option",{value:"",children:"Select Prediction"}),n.map(o=>e.jsxs("option",{value:o.id,children:[o.site_name," - ",new Date(o.timestamp).toLocaleDateString()]},o.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"Site"}),e.jsxs("select",{value:t.siteId||"",onChange:o=>s({...t,siteId:o.target.value}),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800",children:[e.jsx("option",{value:"",children:"All Sites"}),l.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"Start Date"}),e.jsx("input",{type:"date",value:t.startDate||"",onChange:o=>s({...t,startDate:o.target.value}),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wider",children:"End Date"}),e.jsx("input",{type:"date",value:t.endDate||"",onChange:o=>s({...t,endDate:o.target.value}),className:"w-full px-4 py-3 backdrop-blur-sm bg-white/50 border border-white/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all duration-300 text-gray-800"})]})]}),e.jsx("button",{onClick:r,disabled:!t.predictionId||i,className:"w-full group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 px-8 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed font-semibold flex items-center justify-center transition-all duration-300 hover:scale-105 shadow-xl",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent mr-3"}),"Generating Report..."]}):e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"🔍 Generate Comprehensive Report"})})]})}function Xn({data:t,metadata:s}){const r={labels:["0-15°","15-30°","30-45°","45-60°","60-75°","75-90°"],datasets:[{label:"Slope Distribution (%)",data:t.demData.slopeDistribution,backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2}]},a={labels:Object.keys(t.crackAnalysis.severityDistribution),datasets:[{data:Object.values(t.crackAnalysis.severityDistribution),backgroundColor:["#10B981","#F59E0B","#EF4444","#7C3AED"],borderWidth:2}]};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📸 Drone Image Analysis"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"Uploaded Images"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.images.map((n,l)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsx("div",{className:"bg-gray-200 h-32 rounded mb-2 flex items-center justify-center",children:e.jsxs("span",{className:"text-gray-500",children:["📷 ",n.filename]})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",n.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Processed:"})," ",n.processed?"✅":"❌"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Annotations:"})," ",n.annotations.length]})]})]},n.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"DEM & 3D Model Data"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Elevation Range:"}),e.jsxs("span",{className:"font-medium",children:[t.demData.elevationRange.min,"m - ",t.demData.elevationRange.max,"m"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bench Height:"}),e.jsxs("span",{className:"font-medium",children:[t.demData.benchGeometry.height,"m"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bench Width:"}),e.jsxs("span",{className:"font-medium",children:[t.demData.benchGeometry.width,"m"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Average Slope:"}),e.jsxs("span",{className:"font-medium",children:[t.demData.benchGeometry.angle,"°"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"Slope Distribution"}),e.jsx("div",{className:"h-48",children:e.jsx(Lt,{data:r,options:{responsive:!0,maintainAspectRatio:!1}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"Crack Detection Results"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Cracks Detected:"}),e.jsx("span",{className:"font-medium",children:t.crackAnalysis.totalCracks})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Crack Density:"}),e.jsxs("span",{className:"font-medium",children:[t.crackAnalysis.crackDensity," cracks/m²"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Annotated Images:"}),e.jsx("span",{className:"font-medium",children:t.crackAnalysis.annotatedImages.length})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"Crack Severity Distribution"}),e.jsx("div",{className:"h-48",children:e.jsx(Ms,{data:a,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]})]})]})}function ei({data:t}){const s={labels:t.trends.porePressure.timestamps.map(a=>new Date(a).toLocaleDateString()),datasets:[{label:"Pore Pressure (kPa)",data:t.trends.porePressure.values,borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,yAxisID:"y"},{label:"Temperature (°C)",data:t.trends.temperature.values,borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,yAxisID:"y1"},{label:"Seismic Activity",data:t.trends.seismicActivity.values,borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,yAxisID:"y2"}]},r={responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Pore Pressure (kPa)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Temperature (°C)"},grid:{drawOnChartArea:!1}},y2:{type:"linear",display:!1}}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📊 Sensor Data Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 text-sm",children:"Total Devices"}),e.jsx("p",{className:"text-xl font-bold text-blue-700",children:t.summary.deviceCount})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-900 text-sm",children:"Total Readings"}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:t.summary.readingsCount})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-purple-900 text-sm",children:"Data Quality"}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:t.summary.dataQuality})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-orange-900 text-sm",children:"Time Range"}),e.jsxs("p",{className:"text-xs font-medium text-orange-700",children:[new Date(t.summary.timeRange.start).toLocaleDateString()," - ",new Date(t.summary.timeRange.end).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Historical Trends"}),e.jsx("div",{className:"h-80",children:e.jsx(ot,{data:s,options:r})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Recent Sensor Readings"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Device ID"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Timestamp"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Pore Pressure"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Displacement"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Temperature"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Seismic"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.readings.slice(0,10).map((a,n)=>{var l,i,c,o;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:a.deviceId.slice(-8)}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:new Date(a.timestamp).toLocaleString()}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((l=a.porePressure)==null?void 0:l.toFixed(1))||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((i=a.displacement)==null?void 0:i.toFixed(2))||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((c=a.temperature)==null?void 0:c.toFixed(1))||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:((o=a.seismicActivity)==null?void 0:o.toFixed(3))||"-"})]},n)})})]})})]})]})}function ti({data:t}){const s={labels:t.riskEvolution.map(a=>a.stage),datasets:[{label:"Risk Score",data:t.riskEvolution.map(a=>a.riskScore*100),borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0},{label:"Confidence",data:t.riskEvolution.map(a=>a.confidence*100),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0}]},r={labels:Object.keys(t.intermediateResults.featureImportance),datasets:[{label:"Feature Importance",data:Object.values(t.intermediateResults.featureImportance),backgroundColor:"rgba(16, 185, 129, 0.5)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2}]};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🤖 Stepwise AI/ML Analysis"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"Processing Stages"}),e.jsx("div",{className:"space-y-4",children:t.stages.map((a,n)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm ${a.status==="completed"?"bg-green-500":a.status==="error"?"bg-red-500":"bg-gray-400"}`,children:n+1}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.processingTime,"ms"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${a.status==="completed"?"bg-green-500":a.status==="error"?"bg-red-500":"bg-blue-500"}`,style:{width:`${a.progress}%`}})})]})]},a.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-gray-700 mb-3",children:"Model Confidence Scores"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vision Model (CNN):"}),e.jsxs("span",{className:"font-medium",children:[(t.intermediateResults.visionModelConfidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sensor Model (XGBoost):"}),e.jsxs("span",{className:"font-medium",children:[(t.intermediateResults.sensorModelConfidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Fusion Model:"}),e.jsxs("span",{className:"font-medium",children:[(t.intermediateResults.fusionConfidence*100).toFixed(1),"%"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Feature Importance"}),e.jsx("div",{className:"h-64",children:e.jsx(Lt,{data:r,options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y"}})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Risk Score Evolution Through Processing"}),e.jsx("div",{className:"h-64",children:e.jsx(ot,{data:s,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Score (%)"}}}}})})]})]})}function si({data:t}){const s=r=>{switch(r){case"LOW":return"text-green-600 bg-green-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"HIGH":return"text-orange-600 bg-orange-100";case"CRITICAL":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"🎯 Final Prediction Results"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`inline-flex items-center px-6 py-3 rounded-full text-lg font-bold ${s(t.riskLevel)}`,children:[t.riskLevel," RISK"]}),e.jsxs("div",{className:"mt-4 text-4xl font-bold text-gray-900",children:[(t.riskScore*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Overall Risk Probability"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"Estimated Volume"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[t.estimatedVolume.toFixed(1)," m³"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Potential Rockfall Volume"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"Confidence Score"}),e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[(t.confidence*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Model Confidence"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-4",children:"Present Time Risk"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:[(t.presentTime.probability*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-blue-600",children:"Current moment assessment"}),e.jsx("div",{className:"text-xs text-blue-500 mt-2",children:new Date(t.presentTime.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-purple-900 mb-4",children:"Short-Term Future Risk"}),e.jsxs("div",{className:"text-3xl font-bold text-purple-700 mb-2",children:[(t.shortTermFuture.probability*100).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-purple-600",children:["Next ",t.shortTermFuture.timeWindow," hours"]}),e.jsxs("div",{className:"text-xs text-purple-500 mt-2",children:["Predicted peak: ",new Date(t.shortTermFuture.predictedTime).toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Predicted Landing Zone"}),e.jsx("div",{className:"bg-gray-100 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Area:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[t.landingZone.area.toFixed(0)," m²"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Coordinates:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[t.landingZone.coordinates.length," points defined"]})]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Recommended Preventive Actions"}),e.jsx("div",{className:"space-y-2",children:t.preventiveActions.map((r,a)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2 mt-1",children:"•"}),e.jsx("span",{className:"text-gray-700",children:r})]},a))})]})]})}function ri({data:t}){return e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl mr-4",children:e.jsx("span",{className:"text-2xl",children:"📋"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Summary & Recommendations"}),e.jsx("p",{className:"text-gray-600",children:"Key insights and strategic guidance"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🎯"}),"Overall Assessment"]}),e.jsx("div",{className:"backdrop-blur-sm bg-gradient-to-r from-blue-50/80 to-cyan-50/80 border border-blue-200/30 p-6 rounded-2xl",children:e.jsx("p",{className:"text-gray-800 leading-relaxed",children:t.overallAssessment})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🔍"}),"Key Findings"]}),e.jsx("div",{className:"space-y-4",children:t.keyFindings.map((s,r)=>e.jsx("div",{className:"backdrop-blur-sm bg-white/30 border border-white/30 rounded-2xl p-4 hover:bg-white/40 transition-all duration-300 hover:scale-[1.01] hover:shadow-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-emerald-400 rounded-xl mr-3 mt-0.5",children:e.jsx("span",{className:"text-white text-sm",children:"🔍"})}),e.jsx("span",{className:"text-gray-800 leading-relaxed flex-1",children:s})]})},r))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"💡"}),"Strategic Recommendations"]}),e.jsx("div",{className:"space-y-4",children:t.recommendations.map((s,r)=>e.jsx("div",{className:"backdrop-blur-sm bg-white/30 border border-white/30 rounded-2xl p-4 hover:bg-white/40 transition-all duration-300 hover:scale-[1.01] hover:shadow-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-xl mr-3 mt-0.5",children:e.jsx("span",{className:"text-white text-sm",children:"💡"})}),e.jsx("span",{className:"text-gray-800 leading-relaxed flex-1",children:s})]})},r))})]})]})]})}function ai(){const[t,s]=d.useState([]),[r,a]=d.useState(null),[n,l]=d.useState(!0),[i,c]=d.useState(null),[o,m]=d.useState(!1),[x,p]=d.useState(!1),[b,N]=d.useState({name:"",description:"",location:{latitude:0,longitude:0,elevation:0},area_hectares:0,safety_protocols:[]});d.useEffect(()=>{v()},[]);const v=async()=>{try{l(!0),c(null),s([{id:"site-001",name:"Colorado Mining District - Sector A",description:"Primary extraction site with high-grade ore deposits",location:{latitude:39.7392,longitude:-104.9903,elevation:1609},zones:[{id:"zone-1",name:"North Face",risk_level:"medium"},{id:"zone-2",name:"South Slope",risk_level:"low"},{id:"zone-3",name:"East Ridge",risk_level:"high"}],status:"active",emergency_contacts:[{name:"John Smith",role:"Site Manager",phone:"+1-555-0123",email:"john.smith@mining.com"},{name:"Sarah Johnson",role:"Safety Officer",phone:"+1-555-0124",email:"sarah.johnson@mining.com"}],area_hectares:125.5,safety_protocols:["Hard hat required","Safety harness in Zone 3","Daily inspection logs"],created_at:"2023-01-15T10:00:00Z",updated_at:"2024-09-20T15:30:00Z",current_risk_level:"medium",devices_count:12,active_alerts:2},{id:"site-002",name:"Nevada Gold Fields - Sector B",description:"Secondary site with moderate production capacity",location:{latitude:39.1612,longitude:-119.7674,elevation:1372},zones:[{id:"zone-4",name:"West Wall",risk_level:"low"},{id:"zone-5",name:"Central Pit",risk_level:"medium"}],status:"active",emergency_contacts:[{name:"Mike Davis",role:"Site Manager",phone:"+1-555-0125",email:"mike.davis@mining.com"}],area_hectares:83.2,safety_protocols:["Equipment checks","Weather monitoring"],created_at:"2023-03-10T08:00:00Z",updated_at:"2024-09-19T11:20:00Z",current_risk_level:"low",devices_count:8,active_alerts:0}])}catch(g){console.error("Error loading sites:",g),c("Failed to load sites")}finally{l(!1)}},w=async()=>{try{const g={...b,id:`site-${String(t.length+1).padStart(3,"0")}`,zones:[],status:"active",emergency_contacts:[],created_at:new Date().toISOString(),devices_count:0,active_alerts:0};s([...t,g]),m(!1),N({name:"",description:"",location:{latitude:0,longitude:0,elevation:0},area_hectares:0,safety_protocols:[]})}catch{c("Failed to create site")}},y=async(g,u)=>{try{alert(`Emergency protocol "${u}" triggered for site ${g}`),p(!1)}catch{c("Failed to trigger emergency protocol")}},_=g=>{switch(g==null?void 0:g.toLowerCase()){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-orange-600 bg-orange-50 border-orange-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},D=g=>{switch(g.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";case"emergency":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?e.jsxs("div",{className:"min-h-screen bg-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-purple-50/20 to-cyan-50/30"}),e.jsx(ce,{}),e.jsx("div",{className:"relative z-10 flex items-center justify-center py-12",children:e.jsxs("div",{className:"backdrop-blur-lg bg-white/20 border border-white/30 rounded-3xl p-12 shadow-2xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-transparent border-t-blue-600 border-r-purple-600 mx-auto"}),e.jsx("div",{className:"mt-4 text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent text-center",children:"Loading Sites..."})]})})]}):e.jsxs("div",{className:"min-h-screen bg-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/20 via-purple-50/10 to-cyan-50/20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(ce,{}),e.jsx("div",{className:"backdrop-blur-lg bg-white/30 border-b border-white/40 shadow-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"backdrop-blur-lg bg-white/30 border border-white/40 rounded-2xl p-6 shadow-xl",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent flex items-center",children:"🏭 Mining Sites Management"}),e.jsx("p",{className:"mt-2 text-gray-600 font-medium",children:"Monitor and manage all mining sites, zones, and safety protocols"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-2xl font-semibold transition-all duration-300 hover:scale-105 shadow-lg",children:[e.jsx("span",{className:"mr-2 group-hover:scale-110 transition-transform duration-300",children:"+"}),"Add New Site"]})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&e.jsxs("div",{className:"backdrop-blur-lg bg-red-50/80 border border-red-200/50 rounded-2xl p-6 shadow-xl mb-8",children:[e.jsx("div",{className:"text-red-700 font-medium",children:i}),e.jsx("button",{onClick:v,className:"mt-2 text-red-800 underline hover:text-red-900 font-medium",children:"Retry"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400/20 to-blue-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-blue-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"🏭"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Sites"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:t.length})]})]})}),e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400/20 to-green-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-green-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"✅"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Active Sites"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:t.filter(g=>g.status==="active").length})]})]})}),e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-400/20 to-red-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-red-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"🚨"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Active Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.reduce((g,u)=>g+u.active_alerts,0)})]})]})}),e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 p-5 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400/20 to-purple-600/20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-purple-200/30 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-lg",children:"📱"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Total Devices"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:t.reduce((g,u)=>g+u.devices_count,0)})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(g=>e.jsx("div",{className:"group backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-102 transform transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-gray-900 mb-2",children:g.name}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:g.description})]}),e.jsx("span",{className:`px-3 py-1 rounded-2xl text-xs font-semibold backdrop-blur-sm border transition-all duration-300 group-hover:scale-105 ${D(g.status)}`,children:g.status})]}),e.jsxs("div",{className:"mb-4 backdrop-blur-sm bg-white/30 rounded-2xl p-3 border border-white/40",children:[e.jsxs("p",{className:"text-sm text-gray-700 font-medium",children:["📍 ",g.location.latitude.toFixed(4),", ",g.location.longitude.toFixed(4)]}),g.location.elevation&&e.jsxs("p",{className:"text-sm text-gray-700 font-medium mt-1",children:["⛰️ ",g.location.elevation,"m elevation"]}),g.area_hectares&&e.jsxs("p",{className:"text-sm text-gray-700 font-medium mt-1",children:["📏 ",g.area_hectares," hectares"]})]}),g.current_risk_level&&e.jsx("div",{className:`p-3 rounded-2xl border backdrop-blur-sm mb-4 transition-all duration-300 ${_(g.current_risk_level)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 text-sm",children:"Current Risk Level"}),e.jsx("span",{className:"font-bold text-base",children:g.current_risk_level.toUpperCase()})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center backdrop-blur-sm bg-white/30 rounded-2xl p-3 border border-white/40",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.devices_count}),e.jsx("p",{className:"text-sm text-gray-600 font-medium mt-1",children:"Devices"})]}),e.jsxs("div",{className:"text-center backdrop-blur-sm bg-white/30 rounded-2xl p-3 border border-white/40",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:g.active_alerts}),e.jsx("p",{className:"text-sm text-gray-600 font-medium mt-1",children:"Alerts"})]})]}),g.zones.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-2 text-sm",children:["Zones (",g.zones.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[g.zones.slice(0,3).map(u=>e.jsxs("div",{className:"flex items-center justify-between text-sm backdrop-blur-sm bg-white/20 rounded-xl p-2 border border-white/30",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:u.name}),e.jsx("span",{className:`px-3 py-1 rounded-xl text-xs font-semibold backdrop-blur-sm border
                            ${u.risk_level==="high"?"bg-red-100/80 text-red-800 border-red-200/50":u.risk_level==="medium"?"bg-orange-100/80 text-orange-800 border-orange-200/50":"bg-green-100/80 text-green-800 border-green-200/50"}`,children:u.risk_level})]},u.id)),g.zones.length>3&&e.jsxs("p",{className:"text-xs text-gray-500 font-medium text-center mt-2",children:["+",g.zones.length-3," more zones"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>a(g),className:"group flex-1 backdrop-blur-sm bg-blue-50/80 hover:bg-blue-100/80 text-blue-700 px-3 py-2 rounded-2xl text-sm font-semibold transition-all duration-300 hover:scale-105 border border-blue-200/50",children:e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"View Details"})}),e.jsxs("button",{onClick:()=>{a(g),p(!0)},className:"group backdrop-blur-sm bg-red-50/80 hover:bg-red-100/80 text-red-700 px-3 py-2 rounded-2xl text-sm font-semibold transition-all duration-300 hover:scale-105 border border-red-200/50",children:[e.jsx("span",{className:"mr-2 group-hover:animate-pulse",children:"🚨"}),"Emergency"]})]})]})},g.id))}),r&&!x&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm overflow-y-auto h-full w-full z-50",onClick:()=>a(null),children:e.jsx("div",{className:"relative top-20 mx-auto p-6 w-3/4 max-w-4xl backdrop-blur-lg bg-white/30 border border-white/50 rounded-3xl shadow-2xl",onClick:g=>g.stopPropagation(),children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:[r.name," - Site Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"backdrop-blur-sm bg-white/20 rounded-2xl p-4 border border-white/40",children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-3 text-base",children:"Basic Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ID:"})," ",r.id]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${D(r.status)}`,children:r.status})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",r.location.latitude,", ",r.location.longitude]}),r.area_hectares&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Area:"})," ",r.area_hectares," hectares"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(r.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-base",children:"Emergency Contacts"}),r.emergency_contacts.length>0?e.jsx("div",{className:"space-y-2",children:r.emergency_contacts.map((g,u)=>e.jsxs("div",{className:"border border-gray-200 rounded p-2",children:[e.jsx("p",{className:"font-medium text-sm",children:g.name}),e.jsx("p",{className:"text-xs text-gray-600",children:g.role}),e.jsx("p",{className:"text-xs text-blue-600",children:g.phone}),e.jsx("p",{className:"text-xs text-blue-600",children:g.email})]},u))}):e.jsx("p",{className:"text-gray-500",children:"No emergency contacts configured"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Safety Protocols"}),r.safety_protocols.length>0?e.jsx("ul",{className:"text-sm space-y-1",children:r.safety_protocols.map((g,u)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:"✓"}),g]},u))}):e.jsx("p",{className:"text-gray-500",children:"No safety protocols defined"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Zones"}),r.zones.length>0?e.jsx("div",{className:"space-y-2",children:r.zones.map(g=>e.jsxs("div",{className:"flex items-center justify-between border border-gray-200 rounded p-2",children:[e.jsx("span",{className:"font-medium",children:g.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium 
                              ${g.risk_level==="high"?"bg-red-100 text-red-800":g.risk_level==="medium"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:g.risk_level})]},g.id))}):e.jsx("p",{className:"text-gray-500",children:"No zones defined"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[e.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"🚨 Trigger Emergency"})]})]})})}),x&&r&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:()=>p(!1),children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:g=>g.stopPropagation(),children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["🚨 Emergency Protocol - ",r.name]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the type of emergency protocol to activate:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>y(r.id,"Rockfall Alert"),className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-md font-medium transition-colors text-left",children:["⚠️ Rockfall Alert",e.jsx("p",{className:"text-sm text-red-100",children:"Immediate danger - evacuate affected zones"})]}),e.jsxs("button",{onClick:()=>y(r.id,"Equipment Failure"),className:"w-full bg-orange-600 hover:bg-orange-700 text-white px-4 py-3 rounded-md font-medium transition-colors text-left",children:["🔧 Equipment Failure",e.jsx("p",{className:"text-sm text-orange-100",children:"Critical equipment malfunction"})]}),e.jsxs("button",{onClick:()=>y(r.id,"Medical Emergency"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-md font-medium transition-colors text-left",children:["🏥 Medical Emergency",e.jsx("p",{className:"text-sm text-purple-100",children:"Medical assistance required"})]}),e.jsxs("button",{onClick:()=>y(r.id,"Weather Alert"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-md font-medium transition-colors text-left",children:["⛈️ Weather Alert",e.jsx("p",{className:"text-sm text-blue-100",children:"Severe weather conditions"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})})]})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:()=>m(!1),children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:g=>g.stopPropagation(),children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Create New Mining Site"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),e.jsx("input",{type:"text",value:b.name,onChange:g=>N({...b,name:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter site name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:b.description,onChange:g=>N({...b,description:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Site description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),e.jsx("input",{type:"number",step:"0.0001",value:b.location.latitude,onChange:g=>N({...b,location:{...b.location,latitude:parseFloat(g.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),e.jsx("input",{type:"number",step:"0.0001",value:b.location.longitude,onChange:g=>N({...b,location:{...b.location,longitude:parseFloat(g.target.value)||0}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area (hectares)"}),e.jsx("input",{type:"number",step:"0.1",value:b.area_hectares,onChange:g=>N({...b,area_hectares:parseFloat(g.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:w,disabled:!b.name,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 transition-colors",children:"Create Site"})]})]})})})]})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ni={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(t,s)=>{const r=d.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...m},x)=>d.createElement("svg",{ref:x,...ni,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${ii(t)}`,c].join(" "),...m},[...s.map(([p,b])=>d.createElement(p,b)),...Array.isArray(o)?o:[o]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=z("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=z("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=z("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=z("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=z("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=z("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function vi(){var ae,rt;const[t,s]=d.useState([]),[r,a]=d.useState(null),[n,l]=d.useState([]),[i,c]=d.useState(!0),[o,m]=d.useState(null),[x,p]=d.useState(null),[b,N]=d.useState(!1),[v,w]=d.useState(!1),[y,_]=d.useState(!1),[D,g]=d.useState(!1),[u,h]=d.useState({name:"",type:"seismic_sensor",site_id:"",zone_id:"",api_endpoint:"",api_key:"",connection_type:"wifi",configuration:{sampling_rate:60,sensitivity:1,alert_threshold:.8,data_format:"json",units:{}},enabled:!0}),[S,P]=d.useState(""),[T,I]=d.useState(null),[k,E]=d.useState(null);d.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0),m(null);const j=await fetch("/api/devices");if(!j.ok)throw new Error("Failed to load devices");const F=await j.json();s(F)}catch(j){console.error("Error loading devices:",j),L()}finally{c(!1)}},L=()=>{s([{id:"dev-001",device_id:"SEIS_001",name:"Seismic Sensor Alpha",type:"seismic_sensor",site_id:"site-001",site_name:"Colorado Mining District - Sector A",zone_id:"zone-1",location:{latitude:39.7392,longitude:-104.9903,elevation:1609},status:"online",last_reading:"2024-09-21T10:30:00Z",battery_level:87,signal_strength:92,api_endpoint:"https://api.sensornetwork.com/seismic/001",api_key:"sk_****_****_****",connection_type:"wifi",configuration:{sampling_rate:100,sensitivity:.05,alert_threshold:.8,data_format:"json",units:{acceleration:"g",frequency:"Hz"}},enabled:!0,last_test:"2024-09-21T09:00:00Z",test_results:{connectivity:!0,data_quality:!0,response_time:120,error_count:0},created_at:"2023-01-15T10:00:00Z",updated_at:"2024-09-21T10:30:00Z",created_by:"admin"},{id:"dev-002",device_id:"PORE_001",name:"Pore Pressure Monitor",type:"pore_pressure",site_id:"site-001",site_name:"Colorado Mining District - Sector A",zone_id:"zone-2",location:{latitude:39.7395,longitude:-104.9905,elevation:1620},status:"online",last_reading:"2024-09-21T10:25:00Z",battery_level:94,signal_strength:88,api_endpoint:"https://api.hydrotech.com/pore-pressure/001",api_key:"pp_****_****_****",connection_type:"cellular",configuration:{sampling_rate:60,sensitivity:1,alert_threshold:.9,data_format:"json",units:{pressure:"kPa",temperature:"C"}},enabled:!0,last_test:"2024-09-21T08:30:00Z",test_results:{connectivity:!0,data_quality:!0,response_time:89,error_count:0},created_at:"2023-02-01T08:00:00Z",updated_at:"2024-09-21T10:25:00Z",created_by:"admin"},{id:"dev-003",device_id:"DISP_001",name:"Displacement Sensor",type:"displacement",site_id:"site-001",site_name:"Colorado Mining District - Sector A",zone_id:"zone-1",location:{latitude:39.739,longitude:-104.99,elevation:1615},status:"maintenance",last_reading:"2024-09-21T08:15:00Z",battery_level:23,signal_strength:76,api_endpoint:"https://api.geotech.com/displacement/001",api_key:"ds_****_****_****",connection_type:"lora",configuration:{sampling_rate:30,sensitivity:.1,alert_threshold:.7,data_format:"json",units:{displacement:"mm",angle:"degrees"}},enabled:!0,last_test:"2024-09-20T15:00:00Z",test_results:{connectivity:!1,data_quality:!1,response_time:0,error_count:3},created_at:"2023-03-10T12:00:00Z",updated_at:"2024-09-21T08:15:00Z",created_by:"operator1"}])},O=async()=>{var j;try{m(null);const F={...u,device_id:`${(j=u.type)==null?void 0:j.toUpperCase()}_${Date.now()}`,id:`dev-${Date.now()}`,created_at:new Date().toISOString(),status:"offline",created_by:"current_user"};if(!(await fetch("/api/devices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok)throw new Error("Failed to add device");await M(),N(!1),h({name:"",type:"seismic_sensor",site_id:"",zone_id:"",api_endpoint:"",api_key:"",connection_type:"wifi",configuration:{sampling_rate:60,sensitivity:1,alert_threshold:.8,data_format:"json",units:{}},enabled:!0}),p("Device added successfully"),setTimeout(()=>p(null),3e3)}catch(F){m(F instanceof Error?F.message:"Failed to add device")}},V=async j=>{try{E(j.id),m(null);const F={device_id:j.device_id,test_type:"full_system",status:"running",started_at:new Date().toISOString()};if(I(F),g(!0),!(await fetch(`/api/devices/${j.id}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_type:"full_system"})})).ok)throw new Error("Failed to test device");setTimeout(()=>{const or={...F,status:"passed",completed_at:new Date().toISOString(),results:{connectivity:!0,data_quality:!0,response_time:Math.floor(Math.random()*200)+50,error_messages:[]}};I(or),E(null)},3e3)}catch(F){m(F instanceof Error?F.message:"Failed to test device"),E(null)}},xe=async j=>{try{m(null);const F={...j,enabled:!j.enabled,status:j.enabled?"offline":"online",updated_at:new Date().toISOString()};if(!(await fetch(`/api/devices/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).ok)throw new Error("Failed to update device");await M(),p(`Device ${j.enabled?"disabled":"enabled"} successfully`),setTimeout(()=>p(null),3e3)}catch(F){m(F instanceof Error?F.message:"Failed to update device")}},re=async()=>{if(S!=="admin@123"){m("Incorrect admin password");return}if(r)try{if(m(null),!(await fetch(`/api/devices/${r.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_password:S})})).ok)throw new Error("Failed to delete device");await M(),_(!1),a(null),P(""),p("Device deleted successfully"),setTimeout(()=>p(null),3e3)}catch(j){m(j instanceof Error?j.message:"Failed to delete device")}},Ge=j=>{switch(j){case"online":return e.jsx(us,{className:"h-5 w-5 text-green-500"});case"offline":return e.jsx(wt,{className:"h-5 w-5 text-red-500"});case"maintenance":return e.jsx(hs,{className:"h-5 w-5 text-yellow-500"});case"error":return e.jsx(li,{className:"h-5 w-5 text-red-600"});case"testing":return e.jsx(ps,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(wt,{className:"h-5 w-5 text-gray-400"})}},Qe=j=>{switch(j){case"wifi":return e.jsx(yi,{className:"h-4 w-4 text-blue-500"});case"cellular":return e.jsx(xs,{className:"h-4 w-4 text-green-500"});case"ethernet":return e.jsx(Ve,{className:"h-4 w-4 text-gray-600"});case"lora":return e.jsx(Ve,{className:"h-4 w-4 text-purple-500"});case"satellite":return e.jsx(Ve,{className:"h-4 w-4 text-orange-500"});default:return e.jsx(bi,{className:"h-4 w-4 text-gray-400"})}},C=[{value:"seismic_sensor",label:"Seismic Sensor"},{value:"weather_station",label:"Weather Station"},{value:"camera",label:"Camera"},{value:"accelerometer",label:"Accelerometer"},{value:"tiltmeter",label:"Tiltmeter"},{value:"pore_pressure",label:"Pore Pressure Monitor"},{value:"displacement",label:"Displacement Sensor"},{value:"temperature",label:"Temperature Sensor"},{value:"rainfall",label:"Rainfall Monitor"}],Y=[{value:"wifi",label:"WiFi"},{value:"cellular",label:"Cellular"},{value:"ethernet",label:"Ethernet"},{value:"lora",label:"LoRa"},{value:"satellite",label:"Satellite"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ce,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Device Manager"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage sensor devices, API connections, and monitoring"})]}),e.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(hi,{className:"h-5 w-5"}),"Add Device"]})]})}),o&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),x&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:x}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(us,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.status==="online").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(wt,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Offline"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.status==="offline").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Maintenance"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.filter(j=>j.status==="maintenance").length})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Devices"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.length})]})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sensor Devices"})}),i?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Nt,{className:"h-8 w-8 animate-spin text-blue-500"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Connection"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Reading"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ve,{className:"h-5 w-5 text-blue-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),e.jsx("div",{className:"text-sm text-gray-500",children:j.device_id}),e.jsx("div",{className:"text-xs text-gray-400 capitalize",children:j.type.replace("_"," ")})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(mi,{className:"h-4 w-4 text-gray-400 mr-1"}),j.location?`${j.location.latitude.toFixed(4)}, ${j.location.longitude.toFixed(4)}`:"Not set"]}),j.site_name&&e.jsx("div",{className:"text-xs text-gray-500",children:j.site_name})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[Ge(j.status),e.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j.status})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[j.enabled?e.jsx(fi,{className:"h-3 w-3 text-green-500 mr-1"}):e.jsx(di,{className:"h-3 w-3 text-red-500 mr-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:j.enabled?"Enabled":"Disabled"})]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[Qe(j.connection_type),e.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:j.connection_type})]}),e.jsxs("div",{className:"flex items-center mt-1 space-x-4",children:[j.battery_level&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(oi,{className:"h-3 w-3 text-gray-400 mr-1"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[j.battery_level,"%"]})]}),j.signal_strength&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(xs,{className:"h-3 w-3 text-gray-400 mr-1"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[j.signal_strength,"%"]})]})]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ci,{className:"h-4 w-4 text-gray-400 mr-1"}),j.last_reading?new Date(j.last_reading).toLocaleString():"Never"]}),j.last_test&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Last test: ",new Date(j.last_test).toLocaleString()]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>V(j),disabled:k===j.id,className:"text-blue-600 hover:text-blue-900 disabled:opacity-50",title:"Test connectivity",children:k===j.id?e.jsx(Nt,{className:"h-4 w-4 animate-spin"}):e.jsx(ps,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>xe(j),className:`${j.enabled?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:j.enabled?"Disable device":"Enable device",children:j.enabled?e.jsx(xi,{className:"h-4 w-4"}):e.jsx(pi,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{a(j),h(j),w(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"Edit device",children:e.jsx(ui,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{a(j),_(!0)},className:"text-red-600 hover:text-red-900",title:"Delete device",children:e.jsx(gi,{className:"h-4 w-4"})})]})})]},j.id))})]})})]})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Device"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Name"}),e.jsx("input",{type:"text",value:u.name||"",onChange:j=>h({...u,name:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Enter device name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Type"}),e.jsx("select",{value:u.type||"seismic_sensor",onChange:j=>h({...u,type:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:C.map(j=>e.jsx("option",{value:j.value,children:j.label},j.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site ID"}),e.jsx("input",{type:"text",value:u.site_id||"",onChange:j=>h({...u,site_id:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"site-001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone ID"}),e.jsx("input",{type:"text",value:u.zone_id||"",onChange:j=>h({...u,zone_id:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"zone-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Endpoint"}),e.jsx("input",{type:"url",value:u.api_endpoint||"",onChange:j=>h({...u,api_endpoint:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"https://api.example.com/sensor/data"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:u.api_key||"",onChange:j=>h({...u,api_key:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Enter API key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Connection Type"}),e.jsx("select",{value:u.connection_type||"wifi",onChange:j=>h({...u,connection_type:j.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:Y.map(j=>e.jsx("option",{value:j.value,children:j.label},j.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sampling Rate (seconds)"}),e.jsx("input",{type:"number",value:((ae=u.configuration)==null?void 0:ae.sampling_rate)||60,onChange:j=>h({...u,configuration:{...u.configuration,sampling_rate:parseInt(j.target.value)}}),className:"w-full border border-gray-300 rounded-md px-3 py-2",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alert Threshold"}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",value:((rt=u.configuration)==null?void 0:rt.alert_threshold)||.8,onChange:j=>h({...u,configuration:{...u.configuration,alert_threshold:parseFloat(j.target.value)}}),className:"w-full border border-gray-300 rounded-md px-3 py-2"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[e.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Device"})]})]})})}),y&&r&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delete Device"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Password"}),e.jsx("input",{type:"password",value:S,onChange:j=>P(j.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Enter admin password"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{_(!1),a(null),P("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{onClick:re,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})}),D&&T&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Test Results"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx("span",{className:`text-sm font-medium ${T.status==="running"?"text-blue-600":T.status==="passed"?"text-green-600":"text-red-600"}`,children:T.status==="running"?"Testing...":T.status.toUpperCase()})]}),T.status==="running"&&e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(Nt,{className:"h-8 w-8 animate-spin text-blue-500"})}),T.results&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Connectivity:"}),e.jsx("span",{className:`text-sm font-medium ${T.results.connectivity?"text-green-600":"text-red-600"}`,children:T.results.connectivity?"PASS":"FAIL"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Data Quality:"}),e.jsx("span",{className:`text-sm font-medium ${T.results.data_quality?"text-green-600":"text-red-600"}`,children:T.results.data_quality?"PASS":"FAIL"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Response Time:"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[T.results.response_time,"ms"]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Close"})})]})})})]})}function ji(){var v,w,y,_,D,g;const{state:t}=Ie(),[s,r]=d.useState("profile"),[a,n]=d.useState([]),[l,i]=d.useState({email:((v=t.user)==null?void 0:v.email)||"",full_name:((w=t.user)==null?void 0:w.full_name)||"",username:((y=t.user)==null?void 0:y.username)||"",role:((_=t.user)==null?void 0:_.role)||"",notifications_enabled:!0,email_alerts:!0,sms_alerts:!1}),[c,o]=d.useState(!1),[m,x]=d.useState("");d.useEffect(()=>{p()},[]);const p=async()=>{n([{key:"prediction_threshold_low",value:.3,description:"Low risk threshold for predictions",data_type:"float"},{key:"prediction_threshold_medium",value:.6,description:"Medium risk threshold for predictions",data_type:"float"},{key:"prediction_threshold_high",value:.8,description:"High risk threshold for predictions",data_type:"float"},{key:"alert_email_enabled",value:!0,description:"Enable email alerts system-wide",data_type:"bool"},{key:"data_retention_days",value:365,description:"Data retention period in days",data_type:"int"}])},b=async()=>{o(!0);try{await new Promise(u=>setTimeout(u,1e3)),x("Profile updated successfully!"),setTimeout(()=>x(""),3e3)}catch{x("Error updating profile")}o(!1)},N=async(u,h)=>{o(!0);try{await new Promise(S=>setTimeout(S,500)),n(S=>S.map(P=>P.key===u?{...P,value:h}:P)),x("System setting updated successfully!"),setTimeout(()=>x(""),3e3)}catch{x("Error updating system setting")}o(!1)};return e.jsxs("div",{className:"min-h-screen bg-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/20 via-purple-50/10 to-cyan-50/20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(ce,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-4 sm:px-0",children:[e.jsxs("div",{className:"backdrop-blur-lg bg-white/30 border border-white/40 rounded-2xl p-5 shadow-xl mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent mb-4",children:"⚙️ Settings"}),e.jsxs("nav",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:()=>r("profile"),className:`group py-2 px-4 rounded-2xl font-semibold text-sm transition-all duration-300 hover:scale-105 ${s==="profile"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"backdrop-blur-sm bg-white/30 text-gray-700 hover:bg-white/50 border border-white/40"}`,children:[e.jsx("span",{className:`mr-2 ${s==="profile"?"":"group-hover:scale-110"} transition-transform duration-300`,children:"👤"}),"Profile"]}),e.jsxs("button",{onClick:()=>r("notifications"),className:`group py-2 px-4 rounded-2xl font-semibold text-sm transition-all duration-300 hover:scale-105 ${s==="notifications"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"backdrop-blur-sm bg-white/30 text-gray-700 hover:bg-white/50 border border-white/40"}`,children:[e.jsx("span",{className:`mr-2 ${s==="notifications"?"":"group-hover:scale-110"} transition-transform duration-300`,children:"🔔"}),"Notifications"]}),((D=t.user)==null?void 0:D.role)==="admin"&&e.jsxs("button",{onClick:()=>r("system"),className:`group py-2 px-4 rounded-2xl font-semibold text-sm transition-all duration-300 hover:scale-105 ${s==="system"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"backdrop-blur-sm bg-white/30 text-gray-700 hover:bg-white/50 border border-white/40"}`,children:[e.jsx("span",{className:`mr-2 ${s==="system"?"":"group-hover:scale-110"} transition-transform duration-300`,children:"⚙️"}),"System"]})]})]}),m&&e.jsx("div",{className:`mt-6 p-6 rounded-2xl backdrop-blur-lg border shadow-xl ${m.includes("Error")?"bg-red-50/80 text-red-800 border-red-200/50":"bg-green-50/80 text-green-800 border-green-200/50"}`,children:e.jsx("div",{className:"font-medium",children:m})}),e.jsxs("div",{className:"mt-6",children:[s==="profile"&&e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"👤 Profile Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wider",children:"Full Name"}),e.jsx("input",{type:"text",value:l.full_name,onChange:u=>i(h=>({...h,full_name:u.target.value})),className:"mt-1 block w-full border border-white/30 rounded-2xl shadow-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm bg-white/30 px-3 py-2 transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wider",children:"Username"}),e.jsx("input",{type:"text",value:l.username,onChange:u=>i(h=>({...h,username:u.target.value})),className:"mt-1 block w-full border border-white/30 rounded-2xl shadow-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm bg-white/30 px-3 py-2 transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wider",children:"Email"}),e.jsx("input",{type:"email",value:l.email,onChange:u=>i(h=>({...h,email:u.target.value})),className:"mt-1 block w-full border border-white/30 rounded-2xl shadow-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-sm bg-white/30 px-4 py-3 transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wider",children:"Role"}),e.jsx("input",{type:"text",value:l.role,disabled:!0,className:"mt-1 block w-full border border-white/30 rounded-2xl shadow-lg backdrop-blur-sm bg-white/20 text-gray-600 px-4 py-3"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:b,disabled:c,className:"group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-2xl text-sm font-semibold disabled:opacity-50 transition-all duration-300 hover:scale-105 shadow-lg",children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"💾 Save Profile"})})})]}),s==="notifications"&&e.jsxs("div",{className:"backdrop-blur-lg bg-white/40 border border-white/50 rounded-3xl shadow-xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"🔔 Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 backdrop-blur-sm bg-white/30 rounded-2xl border border-white/40",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Receive system notifications"})]}),e.jsx("label",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:l.notifications_enabled,onChange:u=>i(h=>({...h,notifications_enabled:u.target.checked})),className:"rounded-lg border-white/30 text-blue-600 shadow-lg focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 backdrop-blur-sm bg-white/30 rounded-2xl border border-white/40",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Email Alerts"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Receive alerts via email"})]}),e.jsx("label",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:l.email_alerts,onChange:u=>i(h=>({...h,email_alerts:u.target.checked})),className:"rounded-lg border-white/30 text-blue-600 shadow-lg focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 backdrop-blur-sm bg-white/30 rounded-2xl border border-white/40",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"SMS Alerts"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Receive alerts via SMS"})]}),e.jsx("label",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:l.sms_alerts,onChange:u=>i(h=>({...h,sms_alerts:u.target.checked})),className:"rounded-lg border-white/30 text-blue-600 shadow-lg focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 w-5 h-5"})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:b,disabled:c,className:"group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-2xl text-sm font-semibold disabled:opacity-50 transition-all duration-300 hover:scale-105 shadow-lg",children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):e.jsx("span",{className:"group-hover:scale-110 transition-transform duration-300",children:"🔔 Save Preferences"})})})]}),s==="system"&&((g=t.user)==null?void 0:g.role)==="admin"&&e.jsxs("div",{className:"backdrop-blur-sm bg-white/30 border border-white/20 rounded-3xl p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl mr-3",children:e.jsx("span",{className:"text-xl",children:"⚙️"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"System Settings"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Configure system-wide parameters and behavior"})]})]}),e.jsx("div",{className:"space-y-4",children:a.map(u=>e.jsx("div",{className:"backdrop-blur-sm bg-white/40 border border-white/30 rounded-2xl p-4 hover:bg-white/50 transition-all duration-300 hover:scale-[1.01] hover:shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-1",children:u.key.replace(/_/g," ").toUpperCase()}),e.jsx("p",{className:"text-gray-600 text-sm",children:u.description})]}),e.jsx("div",{className:"ml-4",children:u.data_type==="bool"?e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.value,onChange:h=>N(u.key,h.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]}):e.jsx("input",{type:u.data_type==="int"?"number":"text",value:u.value,onChange:h=>{const S=u.data_type==="int"?parseInt(h.target.value):u.data_type==="float"?parseFloat(h.target.value):h.target.value;N(u.key,S)},className:"backdrop-blur-sm bg-white/50 border border-white/30 rounded-xl px-4 py-2 w-32 text-gray-800 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all duration-300"})})]})},u.key))})]})]})]})})]})]})}function Ni(){const[t,s]=d.useState("general"),[r,a]=d.useState(""),[n,l]=d.useState(null),i=[{question:"How do I interpret rockfall risk predictions?",answer:"Risk predictions are categorized as Low (0-0.3), Medium (0.3-0.7), and High (0.7-1.0). High-risk predictions require immediate attention and safety measures. The confidence score indicates how certain the AI model is about the prediction.",category:"predictions"},{question:"What should I do when I receive a high-risk alert?",answer:"Immediately evacuate personnel from the affected area, verify the alert through visual inspection if safe to do so, and contact the site safety supervisor. Follow your site's emergency protocols and document the incident.",category:"alerts"},{question:"How often are predictions updated?",answer:"Predictions are updated in real-time as new sensor data becomes available. The system continuously analyzes data from vibration sensors, temperature monitors, and drone imagery to provide the most current risk assessment.",category:"predictions"},{question:"How do I add a new monitoring device?",answer:"Navigate to the Devices page, click 'Add Device', fill in the device details including type, location, and calibration settings. Ensure the device is properly connected to the network before activation.",category:"devices"},{question:"Why is my device showing as offline?",answer:"Check the device's power supply, network connectivity, and physical condition. If the device appears damaged or continues to show offline status, contact technical support for assistance.",category:"devices"},{question:"How do I export prediction reports?",answer:"Go to the Reports page, select the prediction you want to export, and choose your preferred format (PDF, CSV, Excel, or JSON). The system will generate a comprehensive report including all analysis data.",category:"reports"},{question:"What data is included in the reports?",answer:"Reports include drone analysis results, sensor data trends, step-by-step AI processing stages, risk factor analysis, confidence scores, and actionable recommendations for site safety.",category:"reports"},{question:"How do I change my password?",answer:"Go to Settings > Profile, scroll down to the Security section, and click 'Change Password'. You'll need to enter your current password and confirm the new one.",category:"general"},{question:"Who can I contact for technical support?",answer:"For technical support, use the contact form below or email support@rockfallsystem.com. Include your username, site ID, and detailed description of the issue.",category:"general"}],c=[{id:"general",name:"General",icon:"❓"},{id:"predictions",name:"Predictions",icon:"🤖"},{id:"alerts",name:"Alerts",icon:"🚨"},{id:"devices",name:"Devices",icon:"📱"},{id:"reports",name:"Reports",icon:"📊"}],o=i.filter(m=>(t==="general"||m.category===t)&&(r===""||m.question.toLowerCase().includes(r.toLowerCase())||m.answer.toLowerCase().includes(r.toLowerCase())));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ce,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Help Center"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Find answers to common questions and get help with the Rockfall Prediction System"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search for help...",value:r,onChange:m=>a(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),e.jsx("nav",{className:"space-y-2",children:c.map(m=>e.jsxs("button",{onClick:()=>s(m.id),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${t===m.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.icon," ",m.name]},m.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:"#contact",className:"block text-blue-600 hover:text-blue-800 text-sm",children:"📧 Contact Support"}),e.jsx("a",{href:"#videos",className:"block text-blue-600 hover:text-blue-800 text-sm",children:"🎥 Tutorial Videos"}),e.jsx("a",{href:"#docs",className:"block text-blue-600 hover:text-blue-800 text-sm",children:"📚 Documentation"}),e.jsx("a",{href:"#status",className:"block text-blue-600 hover:text-blue-800 text-sm",children:"🟢 System Status"})]})]})]}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Frequently Asked Questions"}),o.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"No questions found matching your search."})}):e.jsx("div",{className:"space-y-4",children:o.map((m,x)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsx("button",{onClick:()=>l(n===x?null:x),className:"w-full text-left px-6 py-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m.question}),e.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${n===x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),n===x&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:m.answer})})]},x))})]})}),e.jsxs("div",{id:"contact",className:"bg-white rounded-lg shadow mt-6 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Support"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Can't find what you're looking for? Get in touch with our support team."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Email Support"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"support@rockfallsystem.com"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Response within 24 hours"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Emergency Hotline"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"+1 (555) 123-4567"}),e.jsx("p",{className:"text-xs text-gray-500",children:"24/7 for critical issues"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Open Support Ticket"})})]})]})]})]})})]})}function wi(){const[t,s]=d.useState([]),[r,a]=d.useState([]),[n,l]=d.useState(!0);d.useEffect(()=>{i()},[]);const i=async()=>{await new Promise(x=>setTimeout(x,1e3)),s([{name:"Prediction Engine",status:"operational",description:"AI-powered rockfall prediction service",uptime:"99.9%"},{name:"Sensor Network",status:"operational",description:"Real-time sensor data collection",uptime:"99.7%"},{name:"Database Service",status:"operational",description:"MongoDB data storage and retrieval",uptime:"99.8%"},{name:"Alert System",status:"degraded",description:"Email and SMS notification service",uptime:"97.2%",lastIncident:"2 hours ago - Delayed notifications"},{name:"Drone Integration",status:"operational",description:"Automated drone data processing",uptime:"98.9%"},{name:"Report Generator",status:"operational",description:"PDF, CSV, and Excel report generation",uptime:"99.5%"}]),a([{name:"API Response Time",value:"120ms",status:"good",description:"Average response time for API calls"},{name:"Data Processing Rate",value:"1,245 records/min",status:"good",description:"Sensor data processing throughput"},{name:"Prediction Accuracy",value:"94.2%",status:"good",description:"Historical prediction accuracy rate"},{name:"Active Sensors",value:"127/134",status:"warning",description:"Currently active monitoring sensors"},{name:"Storage Usage",value:"68%",status:"good",description:"Database storage utilization"},{name:"Alert Delivery Time",value:"2.1s",status:"warning",description:"Average time to deliver critical alerts"}]),l(!1)},c=x=>{switch(x){case"operational":case"good":return"text-green-600 bg-green-100";case"degraded":case"warning":return"text-yellow-600 bg-yellow-100";case"outage":case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=x=>{switch(x){case"operational":case"good":return"✅";case"degraded":case"warning":return"⚠️";case"outage":case"critical":return"❌";default:return"❓"}};if(n)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ce,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})]});const m=t.some(x=>x.status==="outage")?"outage":t.some(x=>x.status==="degraded")?"degraded":"operational";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ce,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Services"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor the status and performance of all system components"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Overall System Status"}),e.jsx("p",{className:"text-gray-600",children:"Current operational status of all services"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:o(m)}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c(m)}`,children:m.charAt(0).toUpperCase()+m.slice(1)})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map((x,p)=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.name}),e.jsx("p",{className:"text-sm text-gray-600",children:x.description})]}),e.jsx("span",{className:"text-xl",children:o(x.status)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Uptime:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.uptime})]}),x.lastIncident&&e.jsxs("div",{className:"text-xs text-yellow-600 mt-2 p-2 bg-yellow-50 rounded",children:["Last incident: ",x.lastIncident]})]})]},p))}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Metrics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((x,p)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.name}),e.jsx("span",{className:"text-lg",children:o(x.status)})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:x.value}),e.jsx("p",{className:"text-sm text-gray-600",children:x.description})]},p))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Service Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"🔄 Refresh Status"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"🧪 Run Health Check"}),e.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"📊 View Logs"}),e.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"📈 Performance Report"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("span",{className:"text-green-600",children:"✅"}),e.jsx("span",{className:"text-gray-500",children:"2 minutes ago"}),e.jsx("span",{className:"text-gray-900",children:"Prediction Engine completed health check"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("span",{className:"text-yellow-600",children:"⚠️"}),e.jsx("span",{className:"text-gray-500",children:"15 minutes ago"}),e.jsx("span",{className:"text-gray-900",children:"Alert System experiencing delays"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("span",{className:"text-green-600",children:"✅"}),e.jsx("span",{className:"text-gray-500",children:"1 hour ago"}),e.jsx("span",{className:"text-gray-900",children:"Database backup completed successfully"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("span",{className:"text-green-600",children:"✅"}),e.jsx("span",{className:"text-gray-500",children:"3 hours ago"}),e.jsx("span",{className:"text-gray-900",children:"Sensor Network calibration completed"})]})]})]})]})})]})}function ki(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function Si(){const{state:t}=Ie();return t.isLoading?e.jsx(ki,{}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs(da,{children:[e.jsx(K,{path:"/",element:t.isAuthenticated?e.jsx(Z,{to:"/dashboard"}):e.jsx(qn,{})}),e.jsx(K,{path:"/login",element:t.isAuthenticated?e.jsx(Z,{to:"/dashboard"}):e.jsx(Bn,{})}),e.jsx(K,{path:"/home",element:t.isAuthenticated?e.jsx(Wn,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/profile",element:t.isAuthenticated?e.jsx(Hn,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/dashboard",element:t.isAuthenticated?e.jsx(Gn,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/predictions",element:t.isAuthenticated?e.jsx(Vn,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/reports",element:t.isAuthenticated?e.jsx(Jn,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/sites",element:t.isAuthenticated?e.jsx(ai,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/devices",element:t.isAuthenticated?e.jsx(vi,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/settings",element:t.isAuthenticated?e.jsx(ji,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/help",element:t.isAuthenticated?e.jsx(Ni,{}):e.jsx(Z,{to:"/"})}),e.jsx(K,{path:"/services",element:t.isAuthenticated?e.jsx(wi,{}):e.jsx(Z,{to:"/"})})]})})}const Ci=new Ga({defaultOptions:{queries:{staleTime:5*60*1e3,retry:2,refetchOnWindowFocus:!1}}});kt.createRoot(document.getElementById("root")).render(e.jsx(mr.StrictMode,{children:e.jsx(fa,{children:e.jsx(Va,{client:Ci,children:e.jsxs(zn,{children:[e.jsx(Si,{}),e.jsx(Fn,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}})]})})})}));export{jt as _};
